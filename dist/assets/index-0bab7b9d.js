import{R as b,a as R,s as B,e as W,b as z,c as V,d as G,f as ne,r as a,t as Y,j as e,F as se,g as ie,h as oe,i as re,D as ce,k as le,S as m,l as U,m as de}from"./vendor-770ffdd0.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))f(i);new MutationObserver(i=>{for(const t of i)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&f(o)}).observe(document,{childList:!0,subtree:!0});function u(i){const t={};return i.integrity&&(t.integrity=i.integrity),i.referrerPolicy&&(t.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?t.credentials="include":i.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function f(i){if(i.ep)return;i.ep=!0;const t=u(i);fetch(i.href,t)}})();const me="modulepreload",ue=function(c){return"/"+c},q={},v=function(s,u,f){if(!u||u.length===0)return s();const i=document.getElementsByTagName("link");return Promise.all(u.map(t=>{if(t=ue(t),t in q)return;q[t]=!0;const o=t.endsWith(".css"),D=o?'[rel="stylesheet"]':"";if(!!f)for(let _=i.length-1;_>=0;_--){const p=i[_];if(p.href===t&&(!o||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${t}"]${D}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":me,o||(l.as="script",l.crossOrigin=""),l.href=t,document.head.appendChild(l),o)return new Promise((_,p)=>{l.addEventListener("load",_),l.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${t}`)))})})).then(()=>s()).catch(t=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=t,window.dispatchEvent(o),!o.defaultPrevented)throw t})},pe="_container_1ahtk_1",he="_dashboard_1ahtk_33",fe="_dashboardHead_1ahtk_47",_e="_head_1ahtk_61",xe="_durationButton_1ahtk_99",ge="_lightMode_1ahtk_117",we="_cards_1ahtk_117",ye="_darkMode_1ahtk_133",be="_card1_1ahtk_151",ve="_card2_1ahtk_171",je="_card3_1ahtk_191",Oe="_card4_1ahtk_213",ke="_cardHead_1ahtk_297",De="_cardAmount_1ahtk_331",Ne="_container2_1ahtk_439",Se="_cardHeadLight_1ahtk_1151",Re="_cardAmountLight_1ahtk_1159",$e="_switchIcon_1ahtk_1167",g={container:pe,dashboard:he,dashboardHead:fe,head:_e,durationButton:xe,lightMode:ge,cards:we,darkMode:ye,card1:be,card2:ve,card3:je,card4:Oe,cardHead:ke,cardAmount:De,container2:Ne,cardHeadLight:Se,cardAmountLight:Re,switchIcon:$e},Ee="_container_nli5c_3",Pe="_title_nli5c_27",Ce="_cards_nli5c_49",Ie="_card_nli5c_49",Te="_arrowIcon_nli5c_107",Ae="_durationButton_nli5c_131",Le="_lightMode_nli5c_151",Fe="_dateFilter_nli5c_169",Me="_officefilter_nli5c_277",Be="_boldOption_nli5c_377",We="_topContainer_nli5c_465",ze="_darkMode_nli5c_489",Ue="_dateRangePicker_nli5c_761",d={container:Ee,"rs-picker-toggle-textbox":"_rs-picker-toggle-textbox_nli5c_19","rs-stack-item":"_rs-stack-item_nli5c_21","theme2-container":"_theme2-container_nli5c_23",title:Pe,cards:Ce,card:Ie,arrowIcon:Te,durationButton:Ae,lightMode:Le,dateFilter:Fe,officefilter:Me,boldOption:Be,topContainer:We,darkMode:ze,dateRangePicker:Ue};const He=b.lazy(()=>v(()=>import("./StatisticsChart-86840a68.js"),["assets/StatisticsChart-86840a68.js","assets/vendor-770ffdd0.js","assets/index-82263592.js","assets/StatisticsChart-e689862b.css"])),Ve=b.lazy(()=>v(()=>import("./StatisticsChart2-e7b11b56.js"),["assets/StatisticsChart2-e7b11b56.js","assets/vendor-770ffdd0.js","assets/index-82263592.js","assets/StatisticsChart2-b50482de.css"])),Ge=b.lazy(()=>v(()=>import("./OrdersPieChart-19a8e0f3.js"),["assets/OrdersPieChart-19a8e0f3.js","assets/vendor-770ffdd0.js","assets/index-82263592.js","assets/OrdersPieChart-4f7aeea4.css"])),Ye=b.lazy(()=>v(()=>import("./ProductQtyChart-1cbe6f19.js"),["assets/ProductQtyChart-1cbe6f19.js","assets/vendor-770ffdd0.js","assets/index-82263592.js","assets/ProductQtyChart-cd1d858c.css"])),qe=[{label:"Today",value:[new Date,new Date],placement:"left"},{label:"Yesterday",value:[R(new Date,-1),R(new Date,-1)],placement:"left"},{label:"This week",value:[B(new Date),W(new Date)],placement:"left"},{label:"Last 7 days",value:[z(new Date,6),new Date],placement:"left"},{label:"Last 30 days",value:[z(new Date,29),new Date],placement:"left"},{label:"This month",value:[V(new Date),new Date],placement:"left"},{label:"Last month",value:[V(G(new Date,-1)),ne(G(new Date,-1))],placement:"left"},{label:"This year",value:[new Date(new Date().getFullYear(),0,1),new Date],placement:"left"},{label:"Last year",value:[new Date(new Date().getFullYear()-1,0,1),new Date(new Date().getFullYear(),0,0)],placement:"left"},{label:"Last week",closeOverlay:!1,value:c=>{const[s=new Date]=c||[];return[R(B(s,{weekStartsOn:0}),-7),R(W(s,{weekStartsOn:0}),-7)]},appearance:"default"},{label:"Next week",closeOverlay:!1,value:c=>{const[s=new Date]=c||[];return[R(B(s,{weekStartsOn:0}),7),R(W(s,{weekStartsOn:0}),7)]},appearance:"default"}],Ke=({themeMode:c,officeId:s,adminStatus:u,userId:f,userOfficeName:i})=>{const[t,o]=a.useState([Y(z(new Date,6)),Y(new Date)]),[D,C]=a.useState([]),[l,_]=a.useState(s),[p,I]=a.useState(u),[y,N]=a.useState([]),[$,A]=a.useState([]),[j,L]=a.useState([]),[w,E]=a.useState(!1),[r,T]=a.useState("");a.useEffect(()=>{(async()=>{try{if(f&&s){const h=await(await U.get(`http://115.124.120.251:5064/api/v1/dashboard/dropdown_list/${f}`)).data;h&&(h.length===1&&T(i),_(s),I(u),C(h),N(h.filter(x=>x.OfficeTypeName==="Company")),A(h.filter(x=>x.OfficeTypeName==="Wholesale Pumps")),L(h.filter(x=>x.OfficeTypeName==="Retail Pumps")))}}catch(P){console.log("Error fetching office data:",P)}})()},[f,s,u]);const S=n=>{o(n===null?[null,null]:n)},F=n=>{const h=n.target.selectedOptions[0].getAttribute("data-isadmin");_(n.target.value),I(h),D.filter(x=>x.OfficeId===n.target.value).length>0&&T(D.filter(x=>x.OfficeId===n.target.value)[0].OfficeName)};return e.jsxs("div",{className:`${d.container} ${c==="dark"?"theme-container":"theme2-container"} pb-5`,children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-0",children:[e.jsxs("div",{className:"fs-2 mx-sm-0 mx-md-3 fw-bold",children:[e.jsx("span",{className:"me-2 ms-md-1  ms-2 text-primary",children:e.jsx(se,{})})," Sales Overview"]}),e.jsxs("button",{className:"btn btn-primary btn-lg mx-2 d-flex align-items-center",type:"submit",onClick:()=>E(!w),children:[e.jsx("span",{className:"d-flex",children:w?e.jsx(ie,{style:{fontSize:"1.4rem",marginRight:window.innerWidth>500?"4px":"0px"}}):e.jsx(oe,{style:{fontSize:"1.2rem",marginRight:window.innerWidth>500?"8px":"0px"}})}),"  ",window.innerWidth>500?w?"Close":"Filter":""]})]}),e.jsx("div",{style:{visibility:w?"visible":"hidden",opacity:w?1:0,height:w?window.innerWidth>=768?"85px":"130px":0,marginBottom:w?"10px":0},className:`${d.topContainer} ${c==="dark"?d.darkMode:d.lightMode}`,children:e.jsxs("div",{className:"row d-flex justify-content-start flex-wrap align-items-center mx-0 mx-sm-2 mx-md-0 w-100",style:{width:"100% !important"},children:[e.jsxs("div",{className:"col-md-6 col-lg-5 col-xl-4 col-xxl-4 my-sm-2   my-2 d-flex justify-content-center align-items-center pw-md-0 mx-0 ",children:[window.innerWidth>400?e.jsx("div",{className:"me-2 me-sm-3  ms-1 ms-lg-2",children:e.jsx(re,{style:{fontSize:"2.3rem",color:"white"}})}):"",e.jsx(ce,{ranges:qe,size:"lg",showOneCalendar:!0,style:{color:"black",width:"100%"},value:t,onChange:S,appearance:"default",className:`${d.dateRangePicker}`})]}),e.jsxs("div",{className:"col-md-6 col-lg-5 col-xl-4 col-xxl-4 my-sm-2   my-2 d-flex justify-content-center align-items-center mx-0",children:[window.innerWidth>400?e.jsx("div",{className:"me-2 me-sm-3 ms-1 ms-lg-2 mt-1",children:e.jsx(le,{style:{fontSize:"2.3rem",color:"white"}})}):"",e.jsxs("select",{className:"form-select form-select-lg","aria-label":"Default select example",id:"office",onChange:F,style:{paddingBottom:"4px !important",paddingTop:"4px !important"},children:[y.length>1?e.jsxs(e.Fragment,{children:[e.jsx("option",{value:s,"data-isretail":"-1","data-isadmin":"6",className:`${d.boldOption}`,children:"All Entities"})," "]}):"",y.length>0?e.jsx(e.Fragment,{children:e.jsx("option",{value:s,"data-isretail":"0","data-isadmin":"4",className:`${d.boldOption}`,children:"  All Companies"})}):"",y.map(n=>e.jsxs("option",{value:n.OfficeId,"data-isretail":n.OfficeTypeId===2?"1":"0","data-isadmin":"5",className:`${d.optionGroup}`,children:["      ",n.OfficeName]},n.OfficeId)),$.length>1||j.length>1?e.jsxs(e.Fragment,{children:[" ",e.jsx("option",{value:s,"data-isretail":"-1","data-isadmin":"1",className:`${d.boldOption}`,children:"  All Pumps"})]}):"",$.length>0&&y.length>0?e.jsx(e.Fragment,{children:e.jsx("option",{value:s,"data-isretail":"0","data-isadmin":"3",className:`${d.boldOption}`,children:"   Wholesale Pumps"})}):"",$.map(n=>e.jsxs("option",{value:n.OfficeId,"data-isretail":n.OfficeTypeId===2?"1":"0","data-isadmin":"0",className:`${d.optionGroup}`,children:["      ",n.OfficeName]},n.OfficeId)),j.length>0&&y.length>0?e.jsx("option",{value:s,"data-isretail":"1","data-isadmin":"2",className:`${d.boldOption}`,children:"   Retail Pumps"}):"",j.length>0&&y.length>0?j.map(n=>e.jsxs("option",{value:n.OfficeId,"data-isretail":n.OfficeTypeId===2?"1":"0","data-isadmin":"0",className:`${d.optionGroup}`,children:["      ",n.OfficeName]},n.OfficeId)):j.map(n=>e.jsx("option",{value:n.OfficeId,"data-isretail":n.OfficeTypeId===2?"1":"0","data-isadmin":"0",className:`${d.optionGroup}`,children:n.OfficeName},n.OfficeId))]})]})]})}),e.jsx("div",{className:`${window.innerWidth>550?"container-fluid":""}`,children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 col-lg-8",children:e.jsx(a.Suspense,{fallback:e.jsx(m,{variant:"rounded",style:{paddingTop:"360px",borderRadius:"8px",marginBottom:"5px"}}),children:e.jsx(He,{selectedRange:t,themeMode:c,selectedOffice:l,isAdmin:p})})}),e.jsx("div",{className:"col-md-12 col-lg-4",children:e.jsx(a.Suspense,{fallback:e.jsx(m,{variant:"rounded",style:{paddingTop:"360px",borderRadius:"8px",marginBottom:"5px"}}),children:e.jsx(Ge,{selectedRange:t,themeMode:c,selectedOffice:l,isAdmin:p})})}),e.jsx("div",{className:"col-md-12 col-lg-4 mt-2",children:e.jsx(a.Suspense,{fallback:e.jsx(m,{variant:"rounded",style:{paddingTop:"360px",borderRadius:"8px",marginBottom:"5px"}}),children:e.jsx(Ye,{selectedRange:t,themeMode:c,selectedOffice:l,isAdmin:p})})}),e.jsx("div",{className:"col-md-12 col-lg-8 mt-2",children:e.jsx(a.Suspense,{fallback:e.jsx(m,{variant:"rounded",style:{paddingTop:"360px",borderRadius:"8px",marginBottom:"5px"}}),children:e.jsx(Ve,{selectedRange:t,themeMode:c,selectedOffice:l,isAdmin:p,SelectedOfficeName:r})})})]})})]})},Qe=b.lazy(()=>v(()=>import("./UserCard-3826b8d0.js"),["assets/UserCard-3826b8d0.js","assets/vendor-770ffdd0.js"])),Xe=b.lazy(()=>v(()=>import("./OfficeCard-06a35abd.js"),["assets/OfficeCard-06a35abd.js","assets/vendor-770ffdd0.js"])),Je=b.lazy(()=>v(()=>import("./SalesCard-084cc05d.js"),["assets/SalesCard-084cc05d.js","assets/vendor-770ffdd0.js"])),Ze=b.lazy(()=>v(()=>import("./ExpenseCard-8b3ea14a.js"),["assets/ExpenseCard-8b3ea14a.js","assets/vendor-770ffdd0.js"])),et=()=>{const s=new URLSearchParams(window.location.search).get("theme")||"light";s==="light"?(document.documentElement.style.setProperty("--rs-body","rgb(210 210 210)"),document.documentElement.style.setProperty("--text-color","#111111"),document.documentElement.style.setProperty("--option-color","white")):(document.documentElement.style.setProperty("--rs-body","#111111"),document.documentElement.style.setProperty("--text-color","white"),document.documentElement.style.setProperty("--option-color","#111111"));const[u,f]=a.useState(0),[i,t]=a.useState(0),[o,D]=a.useState(0),[C,l]=a.useState(0),[_,p]=a.useState(0),[I,y]=a.useState(0),N=s,[$,A]=a.useState(""),[j,L]=a.useState(""),[w,E]=a.useState(""),[r,T]=a.useState(window.innerWidth),[S,F]=a.useState({}),[n,P]=a.useState(""),h=()=>{T(window.innerWidth)};return a.useEffect(()=>(window.addEventListener("resize",h),()=>{window.removeEventListener("resize",h)}),[]),a.useEffect(()=>{(async()=>{try{const M=new URLSearchParams(window.location.search).get("userId");if(M){A(M);const K=`http://115.124.120.251:5059/api/Auth/User/${M}`,O=await(await U.get(K)).data;L(O),P(O.officeName),O.roleName==="CompanyAdmin"?E(6):(O.roleName,E(0));const Q=`http://115.124.120.251:5059/api/Dashboard/AdminDashboradData/${O.officeId}/${O.roleName==="PumpUser"||O.roleName==="CompanyAdmin",1}`,k=await(await U.get(Q)).data;F(k);const X=k.userCount||[],J=k.officeCount||[],Z=k.incomeDetails.total,ee=k.incomeDetails.count,te=k.expenseDetails.total,ae=k.expenseDetails.count;f(X),t(J),D(Z),l(te),p(ee),y(ae)}}catch(H){console.log("Error fetching data:",H)}})()},[]),e.jsx("div",{className:`${g.container} ${N==="dark"?g.darkMode:g.lightMode} ${g.scrollableContainer}`,children:e.jsxs("div",{className:`${g.dashboard} `,children:[e.jsx("div",{className:`${g.dashboardHead} ${g.container2}  ${N==="dark"?"theme-container":"theme2-container"}`,style:{minWidth:"100%"},children:e.jsxs("div",{className:`${g.cards} ${N==="dark"?g.darkMode:g.lightMode}`,children:[e.jsx(a.Suspense,{fallback:e.jsx(m,{variant:"rounded",width:r>900?"22%":r>768?"45%":"40%",height:"auto",style:{borderRadius:"10px",paddingTop:"155px",margin:"10px"}}),children:S?e.jsx(Qe,{userCountData:u}):e.jsx(m,{variant:"rounded",width:r>900?"22%":r>768?"45%":"40%",height:"auto",style:{borderRadius:"10px",paddingTop:"155px",margin:"10px"}})}),e.jsx(a.Suspense,{fallback:e.jsx(m,{variant:"rounded",width:r>900?"22%":r>768?"45%":"40%",height:"auto",style:{borderRadius:"10px",paddingTop:"155px",margin:"10px"}}),children:S?e.jsx(Xe,{officeCountData:i}):e.jsx(m,{variant:"rounded",width:r>900?"22%":r>768?"45%":"40%",height:"auto",style:{borderRadius:"10px",paddingTop:"155px",margin:"10px"}})}),e.jsx(a.Suspense,{fallback:e.jsx(m,{variant:"rounded",width:r>900?"22%":r>768?"45%":"40%",height:"auto",style:{borderRadius:"10px",paddingTop:"155px",margin:"10px"}}),children:S?e.jsx(Je,{totalIncome:o,countIncome:_}):e.jsx(m,{variant:"rounded",width:r>900?"22%":r>768?"45%":"40%",height:"auto",style:{borderRadius:"10px",paddingTop:"155px",margin:"10px"}})}),e.jsx(a.Suspense,{fallback:e.jsx(m,{variant:"rounded",width:r>900?"22%":r>768?"45%":"40%",height:"auto",style:{borderRadius:"10px",paddingTop:"155px",margin:"10px"}}),children:S?e.jsx(Ze,{totalExpense:C,countExpense:I}):e.jsx(m,{variant:"rounded",width:r>900?"22%":r>768?"45%":"40%",height:"auto",style:{borderRadius:"10px",paddingTop:"155px",margin:"10px"}})})]})}),e.jsx(Ke,{themeMode:N,officeId:j.officeId,adminStatus:w,userId:$,userOfficeName:n})]})})};const tt=()=>e.jsx("div",{id:"dashboard",children:e.jsx(et,{})});de.createRoot(document.getElementById("root")).render(e.jsx(tt,{}));export{v as _,g as c};
