import{r as L,j as e,u as D}from"./vendor-f48e548e.js";import{r as c}from"./index-41ce01ef.js";import{G as r,b as g,a as R}from"./axios-aa9cae93.js";import{Q as p}from"./react-toastify.esm-81104cc6.js";const O="_viewbutton_1r7rh_29",E="_assignbutton_1r7rh_37",h={viewbutton:O,assignbutton:E};function q(a){return r({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"}}]})(a)}function J(a){return r({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M20.01 15.38c-1.23 0-2.42-.2-3.53-.56a.977.977 0 00-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99z"}}]})(a)}function K(a){return r({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zM7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 2.88-2.88 7.19-5 9.88C9.92 16.21 7 11.85 7 9z"}},{tag:"circle",attr:{cx:"12",cy:"9",r:"2.5"}}]})(a)}function T(a){return r({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19.88 18.47c.44-.7.7-1.51.7-2.39 0-2.49-2.01-4.5-4.5-4.5s-4.5 2.01-4.5 4.5 2.01 4.5 4.49 4.5c.88 0 1.7-.26 2.39-.7L21.58 23 23 21.58l-3.12-3.11zm-3.8.11a2.5 2.5 0 010-5 2.5 2.5 0 010 5zm-.36-8.5c-.74.02-1.45.18-2.1.45l-.55-.83-3.8 6.18-3.01-3.52-3.63 5.81L1 17l5-8 3 3.5L13 6l2.72 4.08zm2.59.5c-.64-.28-1.33-.45-2.05-.49L21.38 2 23 3.18l-4.69 7.4z"}}]})(a)}function U(a){return r({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M17 6.14V4c0-1.1-.9-2-2-2H9c-1.1 0-2 .9-2 2v2.14c-1.72.45-3 2-3 3.86v8c0 2.21 1.79 4 4 4h8c2.21 0 4-1.79 4-4v-8c0-1.86-1.28-3.41-3-3.86zM9 4h6v2h-2c0-.55-.45-1-1-1s-1 .45-1 1H9V4zM8 8h8c1.1 0 2 .9 2 2v3H6v-3c0-1.1.9-2 2-2zm8 12H8c-1.1 0-2-.9-2-2v-3h12v3c0 1.1-.9 2-2 2z"}}]})(a)}const W=({data:a,deliveryPlanId:l,updatedBy:b})=>{const m=L.useMemo(()=>[{Header:"Sl No",accessor:(t,s)=>s+1,Cell:({cell:t})=>e.jsx("div",{className:"px-2 fw-bold ",style:{color:"#3B82F6",border:"1px solid #3B82F6",borderRadius:"50%",width:"fit-content"},children:t.value})},{Header:"Driver Name",accessor:"driverName",Cell:({cell:t,row:s})=>e.jsxs("div",{className:"",style:{},children:[t.value," ",s.original.DeliveryPlanStatus?e.jsx("span",{className:"p-2 py-1 rounded-3",style:{backgroundColor:"#EDE9FE",color:"#7C3AED"},children:s.original.DeliveryPlanStatus}):e.jsx(e.Fragment,{})]})},{Header:"Contact No",accessor:"contactNumber"},{Header:"Lic. No",accessor:"licenceNo"},{Header:"Status",accessor:"assigned",Cell:({cell:t,row:s})=>t.value&&s.original.deliveryPlanId===l?e.jsxs("div",{className:"p-2 py-1 d-flex align-items-center",style:{color:"rgb(133 77 14 /1)",backgroundColor:" rgb(254 240 138/50%)",borderRadius:"8px",letterSpacing:".5px",width:"fit-content"},children:[e.jsx(g,{className:"me-1"})," Busy"]}):t.value?e.jsxs("div",{className:"p-2 py-1 d-flex align-items-center",style:{color:"rgb(133 77 14 /1)",backgroundColor:" rgb(254 240 138/50%)",borderRadius:"8px",letterSpacing:".5px",width:"fit-content"},children:[e.jsx(g,{className:"me-1"})," Busy"]}):e.jsxs("div",{className:"p-2 py-1 d-flex align-items-center",style:{color:"rgb(22 101 52/1)",backgroundColor:" rgb(187 247 208/50%)",borderRadius:"8px",letterSpacing:".5px",width:"fit-content"},children:[e.jsx(g,{className:"me-1"})," Available"]})},{Header:"Stats",id:"stats",Cell:({cell:t,row:s})=>e.jsxs("button",{className:`ps-2 pe-3 py-1 rounded-3 fs-6 btn ${h.viewbutton}`,style:{color:"#6366F1",border:"2px solid #6366F1"},onClick:()=>v(s.original.driverId,s.original.DeliveryPlanStatus,s.original.DeliveryPlanStatusId,s.original.assigned,s.original.deliveryPlanId),children:[e.jsx(T,{className:"me-1"})," View"]})},{Header:"Action",accessor:"assigned",id:"action",Cell:({cell:t,row:s})=>t.value?s.original.deliveryPlanId==l?e.jsx("div",{className:"fs-5 fw-bold",style:{color:"#3B82F6"},children:"Assigned"}):e.jsx(e.Fragment,{}):e.jsx("button",{className:`px-3 py-1 text-white rounded-3 fs-6 btn ${h.assignbutton}`,style:{backgroundColor:"#3B82F6"},onClick:()=>y(s.original.driverId),children:"Assign"})}],[]),d=D(),v=(t,s,o,M,A)=>{M&&A===l?d("/driverdashboardweb/"+t,{state:{isback:!1,status:s,statusId:o}}):d("/driverdashboardweb/"+t,{state:{isback:!0,status:s,statusId:o}})},y=async t=>{const s=p.loading("Assigning...");await R.post("https://dev-def-pumps-api.inspirigenceworks.co.in/api/DeliveryPlan/AssignDriver",{deliveryPlanId:l,driverId:t,updatedBy:b}).then(o=>{p.update(s,{render:"Assigned Successfully",type:"success",isLoading:!1,autoClose:5e3,closeOnClick:!0,pauseOnFocusLoss:!1}),d("/driverdashboardweb/"+t,{state:{isback:!1,statusId:3}})}).catch(o=>{p.update(s,{render:"Assigned Failed !",type:"error",isLoading:!1,autoClose:5e3,closeOnClick:!0,pauseOnFocusLoss:!1})})},{getTableProps:f,getTableBodyProps:j,headerGroups:C,page:u,prepareRow:N,state:F,setGlobalFilter:k,gotoPage:x,nextPage:w,previousPage:S,canNextPage:n,canPreviousPage:i,pageOptions:P,pageCount:B,setPageSize:_}=c.useTable({columns:m,data:a,initialState:{pageIndex:0,pageSize:10}},c.useGlobalFilter,c.useSortBy,c.usePagination),{globalFilter:z,pageIndex:H,pageSize:G}=F;return e.jsxs("div",{className:"my-2",children:[e.jsx("div",{children:e.jsx("label",{children:e.jsx("input",{type:"text",className:"form-control mx-2 ms-3 my-2",placeholder:"Search","aria-label":"Search",value:z||"",onChange:t=>k(t.target.value)})})}),e.jsxs("div",{className:"rounded-3 mx-3",style:{border:"2px solid #F4F4F5",boxShadow:"rgba(0, 0, 0, 0.075) 0.1rem 0.1rem 1rem 2px"},children:[e.jsxs("table",{...f(),style:{width:"100%"},children:[e.jsx("thead",{className:"",children:C.map(t=>e.jsx("tr",{style:{backgroundColor:"#3B82F6"},...t.getHeaderGroupProps(),children:t.headers.map(s=>e.jsxs("th",{className:"fs-5 text-white px-2 py-2",...s.getHeaderProps(s.getSortByToggleProps()),children:[s.render("Header"),e.jsx("span",{children:s.isSorted?s.isSortedDesc?" ↑":" ↓":""})]}))}))}),e.jsx("tbody",{...j(),children:u.map(t=>(N(t),e.jsx("tr",{...t.getRowProps(),children:t.cells.map(s=>e.jsx("td",{className:"px-2 fs-6 py-2",...s.getCellProps(),children:s.render("Cell")}))})))})]}),u.length===0&&e.jsx("div",{className:"text-center py-3 fs-6",style:{color:"#4B5563"},children:"No Records found..."})]}),e.jsxs("div",{className:"d-flex justify-content-center align-items-center flex-column",children:[e.jsxs("span",{className:"py-2 fs-6",children:["Page"," ",e.jsxs("strong",{children:[H+1," of ",P.length]})," "]}),e.jsx("div",{}),e.jsxs("div",{className:"d-flex justify-content-center fs-5",children:[e.jsx("button",{className:"mx-1 px-2 py-1 text-white rounded-3",style:{backgroundColor:i?"#3B82F6":"#60A5FA"},onClick:()=>x(0),disabled:!i,children:"<<"})," ",e.jsxs("button",{className:"mx-1 px-2 py-1 pe-3 text-white rounded-3",style:{backgroundColor:i?"#3B82F6":"#60A5FA"},onClick:()=>S(),disabled:!i,children:["<"," Prev"]})," ",e.jsxs("button",{className:"mx-1 px-2 py-1 ps-3 text-white rounded-3",style:{backgroundColor:n?"#3B82F6":"#60A5FA"},onClick:()=>w(),disabled:!n,children:["Next ",">"]})," ",e.jsx("button",{className:"mx-1 px-2 py-1 text-white rounded-3",style:{backgroundColor:n?"#3B82F6":"#60A5FA"},onClick:()=>x(B-1),disabled:!n,children:">>"})," "]})]})]})};export{K as M,W as R,q as a,U as b,J as c};
