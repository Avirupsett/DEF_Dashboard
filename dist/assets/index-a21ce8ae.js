import{R as v,a as $,s as M,e as B,b as W,c as U,d as H,f as te,r as t,t as V,j as e,F as ae,g as ne,h as se,i as ie,D as oe,k as re,S as p,l as z,m as ce}from"./vendor-e79ef30a.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))f(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&f(r)}).observe(document,{childList:!0,subtree:!0});function h(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function f(s){if(s.ep)return;s.ep=!0;const n=h(s);fetch(s.href,n)}})();const le="modulepreload",de=function(c){return"/"+c},G={},j=function(i,h,f){if(!h||h.length===0)return i();const s=document.getElementsByTagName("link");return Promise.all(h.map(n=>{if(n=de(n),n in G)return;G[n]=!0;const r=n.endsWith(".css"),E=r?'[rel="stylesheet"]':"";if(!!f)for(let m=s.length-1;m>=0;m--){const g=s[m];if(g.href===n&&(!r||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${E}`))return;const d=document.createElement("link");if(d.rel=r?"stylesheet":le,r||(d.as="script",d.crossOrigin=""),d.href=n,document.head.appendChild(d),r)return new Promise((m,g)=>{d.addEventListener("load",m),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>i()).catch(n=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=n,window.dispatchEvent(r),!r.defaultPrevented)throw n})},me="_container_1ahtk_1",ue="_dashboard_1ahtk_33",pe="_dashboardHead_1ahtk_47",he="_head_1ahtk_61",fe="_durationButton_1ahtk_99",_e="_lightMode_1ahtk_117",xe="_cards_1ahtk_117",ge="_darkMode_1ahtk_133",we="_card1_1ahtk_151",ye="_card2_1ahtk_171",be="_card3_1ahtk_191",ve="_card4_1ahtk_213",je="_cardHead_1ahtk_297",Oe="_cardAmount_1ahtk_331",ke="_container2_1ahtk_439",De="_cardHeadLight_1ahtk_1151",Ne="_cardAmountLight_1ahtk_1159",Se="_switchIcon_1ahtk_1167",x={container:me,dashboard:ue,dashboardHead:pe,head:he,durationButton:fe,lightMode:_e,cards:xe,darkMode:ge,card1:we,card2:ye,card3:be,card4:ve,cardHead:je,cardAmount:Oe,container2:ke,cardHeadLight:De,cardAmountLight:Ne,switchIcon:Se},Re="_container_nli5c_3",$e="_title_nli5c_27",Ee="_cards_nli5c_49",Pe="_card_nli5c_49",Ce="_arrowIcon_nli5c_107",Ie="_durationButton_nli5c_131",Te="_lightMode_nli5c_151",Ae="_dateFilter_nli5c_169",Le="_officefilter_nli5c_277",Fe="_boldOption_nli5c_377",Me="_topContainer_nli5c_465",Be="_darkMode_nli5c_489",We="_dateRangePicker_nli5c_761",l={container:Re,"rs-picker-toggle-textbox":"_rs-picker-toggle-textbox_nli5c_19","rs-stack-item":"_rs-stack-item_nli5c_21","theme2-container":"_theme2-container_nli5c_23",title:$e,cards:Ee,card:Pe,arrowIcon:Ce,durationButton:Ie,lightMode:Te,dateFilter:Ae,officefilter:Le,boldOption:Fe,topContainer:Me,darkMode:Be,dateRangePicker:We};const ze=v.lazy(()=>j(()=>import("./StatisticsChart-7e92558e.js"),["assets/StatisticsChart-7e92558e.js","assets/vendor-e79ef30a.js","assets/index-7afafb5e.js","assets/StatisticsChart-b106477b.css"])),Ue=v.lazy(()=>j(()=>import("./StatisticsChart2-eb850591.js"),["assets/StatisticsChart2-eb850591.js","assets/vendor-e79ef30a.js","assets/index-7afafb5e.js","assets/StatisticsChart2-9f7a68d3.css"])),He=v.lazy(()=>j(()=>import("./OrdersPieChart-5f613d2c.js"),["assets/OrdersPieChart-5f613d2c.js","assets/vendor-e79ef30a.js","assets/index-7afafb5e.js","assets/OrdersPieChart-e257ffe6.css"])),Ve=v.lazy(()=>j(()=>import("./ProductQtyChart-fac8182e.js"),["assets/ProductQtyChart-fac8182e.js","assets/vendor-e79ef30a.js","assets/index-7afafb5e.js","assets/ProductQtyChart-02440696.css"])),Ge=[{label:"Today",value:[new Date,new Date],placement:"left"},{label:"Yesterday",value:[$(new Date,-1),$(new Date,-1)],placement:"left"},{label:"This week",value:[M(new Date),B(new Date)],placement:"left"},{label:"Last 7 days",value:[W(new Date,6),new Date],placement:"left"},{label:"Last 30 days",value:[W(new Date,29),new Date],placement:"left"},{label:"This month",value:[U(new Date),new Date],placement:"left"},{label:"Last month",value:[U(H(new Date,-1)),te(H(new Date,-1))],placement:"left"},{label:"This year",value:[new Date(new Date().getFullYear(),0,1),new Date],placement:"left"},{label:"Last year",value:[new Date(new Date().getFullYear()-1,0,1),new Date(new Date().getFullYear(),0,0)],placement:"left"},{label:"Last week",closeOverlay:!1,value:c=>{const[i=new Date]=c||[];return[$(M(i,{weekStartsOn:0}),-7),$(B(i,{weekStartsOn:0}),-7)]},appearance:"default"},{label:"Next week",closeOverlay:!1,value:c=>{const[i=new Date]=c||[];return[$(M(i,{weekStartsOn:0}),7),$(B(i,{weekStartsOn:0}),7)]},appearance:"default"}],Ye=({themeMode:c,officeId:i,adminStatus:h,userId:f})=>{const[s,n]=t.useState([V(W(new Date,6)),V(new Date)]),[r,E]=t.useState([]),[O,d]=t.useState(i),[m,g]=t.useState(h),[y,C]=t.useState([]),[b,I]=t.useState([]),[k,T]=t.useState([]),[w,A]=t.useState(!1),[P,o]=t.useState("");t.useEffect(()=>{(async()=>{try{if(f&&i){const _=await(await z.get(`http://115.124.120.251:5064/api/v1/dashboard/dropdown_list/${f}`)).data;_&&(_.length===1&&o(_.OfficeName),d(i),g(h),E(_),C(_.filter(u=>u.OfficeTypeName==="Company")),I(_.filter(u=>u.OfficeTypeName==="Wholesale Pumps")),T(_.filter(u=>u.OfficeTypeName==="Retail Pumps")))}}catch(S){console.log("Error fetching office data:",S)}})()},[f,i,h]);const L=a=>{n(a===null?[null,null]:a)},N=a=>{const _=a.target.selectedOptions[0].getAttribute("data-isadmin");d(a.target.value),g(_),r.filter(u=>u.OfficeId===a.target.value).length>0&&o(r.filter(u=>u.OfficeId===a.target.value)[0].OfficeName)};return e.jsxs("div",{className:`${l.container} ${c==="dark"?"theme-container":"theme2-container"} pb-5`,children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-0",children:[e.jsxs("div",{className:"fs-2 mx-sm-0 mx-md-3 fw-bold",children:[e.jsx("span",{className:"me-2 ms-md-1  ms-2 text-primary",children:e.jsx(ae,{})})," Sales Overview"]}),e.jsxs("button",{className:"btn btn-primary btn-lg mx-2 d-flex align-items-center",type:"submit",onClick:()=>A(!w),children:[e.jsx("span",{className:"d-flex",children:w?e.jsx(ne,{style:{fontSize:"1.4rem",marginRight:window.innerWidth>500?"4px":"0px"}}):e.jsx(se,{style:{fontSize:"1.2rem",marginRight:window.innerWidth>500?"8px":"0px"}})}),"  ",window.innerWidth>500?w?"Close":"Filter":""]})]}),e.jsx("div",{style:{visibility:w?"visible":"hidden",opacity:w?1:0,height:w?window.innerWidth>=768?"85px":"130px":0,marginBottom:w?"10px":0},className:`${l.topContainer} ${c==="dark"?l.darkMode:l.lightMode}`,children:e.jsxs("div",{className:"row d-flex justify-content-start flex-wrap align-items-center mx-0 mx-sm-2 mx-md-0 w-100",style:{width:"100% !important"},children:[e.jsxs("div",{className:"col-md-6 col-lg-5 col-xl-4 col-xxl-4 my-sm-2   my-2 d-flex justify-content-center align-items-center pw-md-0 mx-0 ",children:[window.innerWidth>400?e.jsx("div",{className:"me-2 me-sm-3  ms-1 ms-lg-2",children:e.jsx(ie,{style:{fontSize:"2.3rem",color:"white"}})}):"",e.jsx(oe,{ranges:Ge,size:"lg",showOneCalendar:!0,style:{color:"black",width:"100%"},value:s,onChange:L,appearance:"default",className:`${l.dateRangePicker}`})]}),e.jsxs("div",{className:"col-md-6 col-lg-5 col-xl-4 col-xxl-4 my-sm-2   my-2 d-flex justify-content-center align-items-center mx-0",children:[window.innerWidth>400?e.jsx("div",{className:"me-2 me-sm-3 ms-1 ms-lg-2 mt-1",children:e.jsx(re,{style:{fontSize:"2.3rem",color:"white"}})}):"",e.jsxs("select",{className:"form-select form-select-lg","aria-label":"Default select example",id:"office",onChange:N,style:{paddingBottom:"4px !important",paddingTop:"4px !important"},children:[y.length>1?e.jsxs(e.Fragment,{children:[e.jsx("option",{value:i,"data-isretail":"-1","data-isadmin":"6",className:`${l.boldOption}`,children:"All Entities"})," "]}):"",y.length>0?e.jsx(e.Fragment,{children:e.jsx("option",{value:i,"data-isretail":"0","data-isadmin":"4",className:`${l.boldOption}`,children:"  All Companies"})}):"",y.map(a=>e.jsxs("option",{value:a.OfficeId,"data-isretail":a.OfficeTypeId===2?"1":"0","data-isadmin":"5",className:`${l.optionGroup}`,children:["      ",a.OfficeName]},a.OfficeId)),b.length>1||k.length>1?e.jsxs(e.Fragment,{children:[" ",e.jsx("option",{value:i,"data-isretail":"-1","data-isadmin":"1",className:`${l.boldOption}`,children:"  All Pumps"})]}):"",b.length>0&&y.length>0?e.jsx(e.Fragment,{children:e.jsx("option",{value:i,"data-isretail":"0","data-isadmin":"3",className:`${l.boldOption}`,children:"   Wholesale Pumps"})}):"",b.map(a=>e.jsxs("option",{value:a.OfficeId,"data-isretail":a.OfficeTypeId===2?"1":"0","data-isadmin":"0",className:`${l.optionGroup}`,children:["      ",a.OfficeName]},a.OfficeId)),k.length>0&&y.length>0?e.jsx("option",{value:i,"data-isretail":"1","data-isadmin":"2",className:`${l.boldOption}`,children:"   Retail Pumps"}):"",k.length>0&&y.length>0?k.map(a=>e.jsxs("option",{value:a.OfficeId,"data-isretail":a.OfficeTypeId===2?"1":"0","data-isadmin":"0",className:`${l.optionGroup}`,children:["      ",a.OfficeName]},a.OfficeId)):k.map(a=>e.jsx("option",{value:a.OfficeId,"data-isretail":a.OfficeTypeId===2?"1":"0","data-isadmin":"0",className:`${l.optionGroup}`,children:a.OfficeName},a.OfficeId))]})]})]})}),e.jsx("div",{className:`${window.innerWidth>550?"container-fluid":""}`,children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12 col-lg-8",children:e.jsx(t.Suspense,{fallback:e.jsx(p,{variant:"rounded",style:{paddingTop:"360px",borderRadius:"8px",marginBottom:"5px"}}),children:e.jsx(ze,{selectedRange:s,themeMode:c,selectedOffice:O,isAdmin:m})})}),e.jsx("div",{className:"col-md-12 col-lg-4",children:e.jsx(t.Suspense,{fallback:e.jsx(p,{variant:"rounded",style:{paddingTop:"360px",borderRadius:"8px",marginBottom:"5px"}}),children:e.jsx(He,{selectedRange:s,themeMode:c,selectedOffice:O,isAdmin:m})})}),e.jsx("div",{className:"col-md-12 col-lg-4 mt-2",children:e.jsx(t.Suspense,{fallback:e.jsx(p,{variant:"rounded",style:{paddingTop:"360px",borderRadius:"8px",marginBottom:"5px"}}),children:e.jsx(Ve,{selectedRange:s,themeMode:c,selectedOffice:O,isAdmin:m})})}),e.jsx("div",{className:"col-md-12 col-lg-8 mt-2",children:e.jsx(t.Suspense,{fallback:e.jsx(p,{variant:"rounded",style:{paddingTop:"360px",borderRadius:"8px",marginBottom:"5px"}}),children:e.jsx(Ue,{selectedRange:s,themeMode:c,selectedOffice:O,isAdmin:m,SelectedOfficeName:P})})})]})})]})},qe=v.lazy(()=>j(()=>import("./UserCard-be6b8788.js"),["assets/UserCard-be6b8788.js","assets/vendor-e79ef30a.js"])),Ke=v.lazy(()=>j(()=>import("./OfficeCard-c35907b0.js"),["assets/OfficeCard-c35907b0.js","assets/vendor-e79ef30a.js"])),Qe=v.lazy(()=>j(()=>import("./SalesCard-10ece5e0.js"),["assets/SalesCard-10ece5e0.js","assets/vendor-e79ef30a.js"])),Xe=v.lazy(()=>j(()=>import("./ExpenseCard-28a84536.js"),["assets/ExpenseCard-28a84536.js","assets/vendor-e79ef30a.js"])),Je=()=>{const i=new URLSearchParams(window.location.search).get("theme")||"light";i==="light"?(document.documentElement.style.setProperty("--rs-body","rgb(210 210 210)"),document.documentElement.style.setProperty("--text-color","#111111"),document.documentElement.style.setProperty("--option-color","white")):(document.documentElement.style.setProperty("--rs-body","#111111"),document.documentElement.style.setProperty("--text-color","white"),document.documentElement.style.setProperty("--option-color","#111111"));const[h,f]=t.useState(0),[s,n]=t.useState(0),[r,E]=t.useState(0),[O,d]=t.useState(0),[m,g]=t.useState(0),[y,C]=t.useState(0),b=i,[I,k]=t.useState(""),[T,w]=t.useState(""),[A,P]=t.useState(""),[o,L]=t.useState(window.innerWidth),[N,a]=t.useState({}),S=()=>{L(window.innerWidth)};return t.useEffect(()=>(window.addEventListener("resize",S),()=>{window.removeEventListener("resize",S)}),[]),t.useEffect(()=>{(async()=>{try{const F=new URLSearchParams(window.location.search).get("userId");if(F){k(F);const Y=`http://115.124.120.251:5059/api/Auth/User/${F}`,R=await(await z.get(Y)).data;w(R),R.roleName==="CompanyAdmin"?P(6):(R.roleName,P(0));const q=`http://115.124.120.251:5059/api/Dashboard/AdminDashboradData/${R.officeId}/${R.roleName==="PumpUser"||R.roleName==="CompanyAdmin",1}`,D=await(await z.get(q)).data;a(D);const K=D.userCount||[],Q=D.officeCount||[],X=D.incomeDetails.total,J=D.incomeDetails.count,Z=D.expenseDetails.total,ee=D.expenseDetails.count;f(K),n(Q),E(X),d(Z),g(J),C(ee)}}catch(u){console.log("Error fetching data:",u)}})()},[]),e.jsx("div",{className:`${x.container} ${b==="dark"?x.darkMode:x.lightMode} ${x.scrollableContainer}`,children:e.jsxs("div",{className:`${x.dashboard} `,children:[e.jsx("div",{className:`${x.dashboardHead} ${x.container2}  ${b==="dark"?"theme-container":"theme2-container"}`,style:{minWidth:"100%"},children:e.jsxs("div",{className:`${x.cards} ${b==="dark"?x.darkMode:x.lightMode}`,children:[e.jsx(t.Suspense,{fallback:e.jsx(p,{variant:"rounded",width:o>900?"22%":o>768?"45%":"40%",height:"auto",style:{borderRadius:"10px",paddingTop:"155px",margin:"10px"}}),children:N?e.jsx(qe,{userCountData:h}):e.jsx(p,{variant:"rounded",width:o>900?"22%":o>768?"45%":"40%",height:"auto",style:{borderRadius:"10px",paddingTop:"155px",margin:"10px"}})}),e.jsx(t.Suspense,{fallback:e.jsx(p,{variant:"rounded",width:o>900?"22%":o>768?"45%":"40%",height:"auto",style:{borderRadius:"10px",paddingTop:"155px",margin:"10px"}}),children:N?e.jsx(Ke,{officeCountData:s}):e.jsx(p,{variant:"rounded",width:o>900?"22%":o>768?"45%":"40%",height:"auto",style:{borderRadius:"10px",paddingTop:"155px",margin:"10px"}})}),e.jsx(t.Suspense,{fallback:e.jsx(p,{variant:"rounded",width:o>900?"22%":o>768?"45%":"40%",height:"auto",style:{borderRadius:"10px",paddingTop:"155px",margin:"10px"}}),children:N?e.jsx(Qe,{totalIncome:r,countIncome:m}):e.jsx(p,{variant:"rounded",width:o>900?"22%":o>768?"45%":"40%",height:"auto",style:{borderRadius:"10px",paddingTop:"155px",margin:"10px"}})}),e.jsx(t.Suspense,{fallback:e.jsx(p,{variant:"rounded",width:o>900?"22%":o>768?"45%":"40%",height:"auto",style:{borderRadius:"10px",paddingTop:"155px",margin:"10px"}}),children:N?e.jsx(Xe,{totalExpense:O,countExpense:y}):e.jsx(p,{variant:"rounded",width:o>900?"22%":o>768?"45%":"40%",height:"auto",style:{borderRadius:"10px",paddingTop:"155px",margin:"10px"}})})]})}),e.jsx(Ye,{themeMode:b,officeId:T.officeId,adminStatus:A,userId:I})]})})};const Ze=()=>e.jsx("div",{id:"dashboard",children:e.jsx(Je,{})});ce.createRoot(document.getElementById("root")).render(e.jsx(Ze,{}));export{j as _,x as c};
