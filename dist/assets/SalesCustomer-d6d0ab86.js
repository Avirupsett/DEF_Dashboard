import{_ as Z}from"./index-4d89e49a.js";import{r as u,u as Me,M as Ue,j as t,K as Ge,T as Ye,Q as xe,R as Je,U as ye,V as Y,i as Qe,B as Ke,C as Xe,E as Ze,G as et,H as tt,a as I}from"./vendor-d2d59fe7.js";import{R as ot}from"./index-ac977246.js";import{k as at,l as be,Q as $,a as ee,f as we,b as Se}from"./NotoSansDevanagari-VariableFont_wdth_wght-67bc695a.js";const nt="_piechart_1hrwn_11",lt="_chartContainer_1hrwn_23",st="_legendButtonContainer_1hrwn_49",rt="_legendButton_1hrwn_49",it="_codeBlockIcon_1hrwn_133",ct="_lightMode_1hrwn_191",dt="_dateFilter_1hrwn_195",ft="_officefilter_1hrwn_351",ut="_topContainer_1hrwn_443",ht="_darkMode_1hrwn_463",pt="_iconsContainer_1hrwn_631",mt="_icon_1hrwn_631",gt="_exportOptions_1hrwn_715",xt="_exportOption_1hrwn_715",yt="_NoDataOverlay_1hrwn_861",bt="_tableContainer_1hrwn_993",wt="_table_1hrwn_993",St="_summaryHeader_1hrwn_1029",Ct="_periodHeader_1hrwn_1037",_t="_closeButton_1hrwn_1069",Ft="_tableWrapper_1hrwn_1099",vt="_loadingOverlay_1hrwn_1107",Dt="_loadingSpinner_1hrwn_1133",Nt="_boldOption_1hrwn_1145",$t="_optionGroup_1hrwn_1155",d={piechart:nt,chartContainer:lt,"legend-text":"_legend-text_1hrwn_31",legendButtonContainer:st,legendButton:rt,codeBlockIcon:it,lightMode:ct,"label-text":"_label-text_1hrwn_191",dateFilter:dt,officefilter:ft,topContainer:ut,darkMode:ht,"theme-container":"_theme-container_1hrwn_473",iconsContainer:pt,icon:mt,exportOptions:gt,exportOption:xt,NoDataOverlay:yt,tableContainer:bt,table:wt,summaryHeader:St,periodHeader:Ct,closeButton:_t,tableWrapper:Ft,loadingOverlay:vt,loadingSpinner:Dt,boldOption:Nt,optionGroup:$t},It=({themeMode:f,selectedRange:v,selectedOffice:Ce,isAdmin:_e,alldata:te,officeName:L,isLoading:de})=>{const[p,E]=u.useState([]),[oe,J]=u.useState(!1),ae=u.useRef(null),ne=u.useRef(null),fe=u.useRef(null),{t:o}=Me(),[jt,ue]=u.useState(!1),[le,V]=u.useState([]),[q,se]=u.useState(!1),[g,Fe]=u.useState("Name"),[A,ve]=u.useState([]),[W,De]=u.useState([]),[R,Ne]=u.useState([]),[re,$e]=u.useState(5),[he,je]=u.useState([]),[z,ie]=u.useState(!1),[M,ke]=u.useState(""),[Te,pe]=u.useState(!1),[U,Be]=u.useState([]);u.useEffect(()=>{if(te.graph4){ie(!1);const e=te.graph4,a=e.byName,n=e.byMobile,i=e.byVehicle;De(n),Ne(i),ve(a)}},[te]);const Oe={title:{textStyle:{color:f==="dark"?"#ffffff":"#000000",fontSize:window.innerWidth<=768?18:25}},tooltip:{trigger:"axis",textStyle:{fontSize:window.innerWidth<=768?10:14}},legend:{data:[o("Visit"),o("Sales")],bottom:0,textStyle:{color:f==="dark"?"#ffffff":"#000000",fontSize:window.innerWidth<=768?10:12}},grid:{left:window.innerWidth<=768?"9%":"4%",right:"4%",top:"15%",bottom:"10%",containLabel:p.length>0},xAxis:[{type:"category",data:p.map(e=>e.filterName),axisPointer:{type:"shadow"},axisLine:{lineStyle:{color:f==="dark"?"#ffffff":"#000000"}},axisLabel:{color:f==="dark"?"#ffffff":"#000000",rotate:45,fontSize:11,formatter:e=>e.length>10?e.substring(0,10)+"...":e}}],yAxis:[{type:"value",name:o("Visit"),min:0,minInterval:1,axisLine:{lineStyle:{color:f==="dark"?"#ffffff":"#000000"}},axisLabel:{color:f==="dark"?"#ffffff":"#000000"}},{type:"value",name:o("Sales"),min:0,axisLine:{lineStyle:{color:f==="dark"?"#ffffff":"#000000"}},axisLabel:{color:f==="dark"?"#ffffff":"#000000",formatter:e=>e>=1e3?e/1e3+"k":e}}],series:[{name:o("Visit"),type:"bar",barWidth:"35%",data:p.map(e=>e.count),itemStyle:{borderRadius:[10,10,0,0]}},{name:o("Sales"),type:"line",yAxisIndex:1,data:p.map(e=>e.total),markPoint:{data:p.map((e,a)=>({value:e.total>=1e3?parseInt(e.total/1e3)+"k":e.total,xAxis:a,yAxis:e.total}))}}]},Ie={title:{textStyle:{color:f==="dark"?"#ffffff":"#000000",fontSize:window.innerWidth<=768?18:25}},tooltip:{trigger:"axis",textStyle:{fontSize:window.innerWidth<=768?10:14}},legend:{show:!1,bottom:0,textStyle:{color:f==="dark"?"#ffffff":"#000000",fontSize:window.innerWidth<=768?10:12}},grid:{left:window.innerWidth<=768?"14%":"9%",right:"4%",top:"15%",bottom:"10%",containLabel:he.length>0},xAxis:[{type:"time",axisPointer:{label:{formatter:function(e){let a=new Date(e.value);return T(a)}}},axisLine:{lineStyle:{color:f==="dark"?"#ffffff":"#000000"}},axisLabel:{hideOverlap:!0,formatter:"{d} {MMM}",color:f==="dark"?"#ffffff":"#000000"}}],yAxis:{type:"value",axisLine:{lineStyle:{color:f==="dark"?"#ffffff":"#000000"}},axisLabel:{color:f==="dark"?"#ffffff":"#000000",formatter:e=>e>=1e4?e/1e3+"k":e},splitLine:{show:!0,lineStyle:{color:f==="dark"?"grey":"silver",type:"dashed"}}},dataZoom:[{show:!0,type:"inside",filterMode:"none",xAxisIndex:[0],startValue:new Date(v[0]),endValue:new Date(v[1])}],series:Object.values(he).map(e=>({name:e.productName,type:"bar",stack:"total",barWidth:"40%",label:{show:!1},itemStyle:{borderRadius:[5,5,5,5],color:e.color},data:Object.entries(e.daySales)}))},Q=e=>{let a="";const n=new Uint8Array(e),i=n.byteLength;for(let s=0;s<i;s++)a+=String.fromCharCode(n[s]);return window.btoa(a)},T=e=>{if(!e)return"";const a=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0");return`${String(e.getDate()).padStart(2,"0")}-${n}-${a}`},me=e=>{if(!e)return"";const a=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${a}-${n}-${i}`},Le=async()=>{const e=$.loading("Please wait..."),a=T(v[0]),n=T(v[1]),i=await Z(()=>import("./exceljs.min-e7e785f7.js").then(x=>x.e),["assets/exceljs.min-e7e785f7.js","assets/vendor-d2d59fe7.js"]),s=new i.Workbook,l=s.addWorksheet("Data");fetch(ee).then(x=>x.blob()).then(async x=>{const c=new FileReader;c.onload=async function(){const w=c.result,S=s.addImage({base64:w,extension:"png"});l.addImage(S,{tl:{col:0,row:0},ext:{width:100,height:60}});const m=l.getCell("A1");m.value=`${o("Top Customers Summary Data")} (${L})`,m.font={bold:!0,color:{argb:"000000"},size:14},m.alignment={vertical:"middle",horizontal:"center"},l.mergeCells("A1:D1");const r=l.getCell("A2");r.value=`${o("Period")}: ${a} ${o("to")} ${n}`,r.font={bold:!0,color:{argb:"000000"},size:12},r.alignment={horizontal:"center"},l.mergeCells("A2:D2"),l.getColumn(1).width=15,l.getColumn(2).width=50,l.getColumn(3).width=15,l.getColumn(4).width=15;const C=l.addRow([o("#"),o(g),o("Visit"),o("Sales")]);C.font={bold:!0,color:{argb:"000000"},size:12},C.eachCell(b=>{b.font={bold:!0,color:{argb:"000000"},size:12},b.border={bottom:{style:"thin",color:{argb:"000000"}}}}),p.forEach((b,_)=>{const F=l.addRow([_+1,b.filterName,b.count,b.total]);F.getCell(1).alignment={horizontal:"left"},F.getCell(2).alignment={horizontal:"left"},F.getCell(3).alignment={horizontal:"right"},F.getCell(4).alignment={horizontal:"right"}});const k=l.addRow(["",o("Total"),"",""]);k.font={bold:!0,color:{argb:"000000"},size:12};const j=p.reduce((b,_)=>b+_.total,0),y=p.reduce((b,_)=>b+_.count,0),D=l.getCell(`C${k.number}`);D.value=`${y}`,D.alignment={horizontal:"right"};const h=l.getCell(`D${k.number}`);h.value=`₹ ${j.toFixed(2)}`,h.alignment={horizontal:"right"};const G=`${Date.now()}Top_Customers_Summary_by${g}_${L}_${a}_${n}.xlsx`;s.xlsx.writeBuffer().then(async b=>{const _=new FormData;_.append("file",new Blob([b]),G);try{const F=await I.post("http://115.124.120.251:5064/api/uploader",_,{headers:{"Content-Type":"multipart/form-data"}});F.status==200?$.update(e,{render:"Download Starting...",type:"success",isLoading:!1,autoClose:5e3,closeOnClick:!0,pauseOnFocusLoss:!1}):$.update(e,{render:"Download Failed !",type:"error",isLoading:!1,autoClose:5e3,closeOnClick:!0,pauseOnFocusLoss:!1});const K=F.data.url;window.location.href=`http://115.124.120.251:5064/static/downloads/${K}`}catch(F){console.error("Error saving Excel file:",F)}})},c.readAsDataURL(x)})},ze=async()=>{const e=$.loading("Please wait..."),a=T(v[0]),n=T(v[1]),i=await Z(()=>import("./exceljs.min-e7e785f7.js").then(x=>x.e),["assets/exceljs.min-e7e785f7.js","assets/vendor-d2d59fe7.js"]),s=new i.Workbook,l=s.addWorksheet("Data");fetch(ee).then(x=>x.blob()).then(async x=>{const c=new FileReader;c.onload=async function(){const w=c.result,S=s.addImage({base64:w,extension:"png"});l.addImage(S,{tl:{col:0,row:0},ext:{width:100,height:60}});const m=l.getCell("A1");m.value=`${M} Sales (${L})`,m.font={bold:!0,color:{argb:"000000"},size:14},m.alignment={vertical:"middle",horizontal:"center"},l.mergeCells("A1:D1");const r=l.getCell("A2");r.value=`${o("Period")}: ${a} ${o("to")} ${n}`,r.font={bold:!0,color:{argb:"000000"},size:12},r.alignment={horizontal:"center"},l.mergeCells("A2:D2"),l.getColumn(1).width=15,l.getColumn(2).width=50,l.getColumn(3).width=15,l.getColumn(4).width=15;const C=l.addRow([o("#"),o("Date"),o("Sales")]);C.font={bold:!0,color:{argb:"000000"},size:12},C.eachCell(y=>{y.font={bold:!0,color:{argb:"000000"},size:12},y.border={bottom:{style:"thin",color:{argb:"000000"}}}}),U.forEach((y,D)=>{if(D==U.length-2){const h=l.addRow([D+1,y.requestedDate,y.totalIncome]);h.getCell(1).alignment={horizontal:"left"},h.getCell(2).alignment={horizontal:"left"},h.getCell(3).alignment={horizontal:"right"},h.getCell(4).alignment={horizontal:"right"}}else{const h=l.addRow(["",o("Total"),"",""]);h.font={bold:!0,color:{argb:"000000"},size:12};const B=l.getCell(`C${h.number}`);B.value=`₹ ${y.totalIncome}`,B.alignment={horizontal:"right"}}});const j=`${Date.now()}Sales_of_${M}_${L}_${a}_${n}.xlsx`;s.xlsx.writeBuffer().then(async y=>{const D=new FormData;D.append("file",new Blob([y]),j);try{const h=await I.post("http://115.124.120.251:5064/api/uploader",D,{headers:{"Content-Type":"multipart/form-data"}});h.status==200?$.update(e,{render:"Download Starting...",type:"success",isLoading:!1,autoClose:5e3,closeOnClick:!0,pauseOnFocusLoss:!1}):$.update(e,{render:"Download Failed !",type:"error",isLoading:!1,autoClose:5e3,closeOnClick:!0,pauseOnFocusLoss:!1});const B=h.data.url;window.location.href=`http://115.124.120.251:5064/static/downloads/${B}`}catch(h){console.error("Error saving Excel file:",h)}})},c.readAsDataURL(x)})},Pe=async()=>{const e=$.loading("Please wait..."),a=T(v[0]),n=T(v[1]),s=new URLSearchParams(window.location.search).get("lang"),l=await I.get(we,{responseType:"arraybuffer"}),x=Q(l.data),c=await I.get(Se,{responseType:"arraybuffer"}),w=Q(c.data);Z(()=>import("./NotoSansDevanagari-VariableFont_wdth_wght-67bc695a.js").then(S=>S.j),["assets/NotoSansDevanagari-VariableFont_wdth_wght-67bc695a.js","assets/vendor-d2d59fe7.js","assets/index-4d89e49a.js","assets/index-0090fde3.css","assets/NotoSansDevanagari-VariableFont_wdth_wght-55fec1ff.css"]).then(async S=>{let m=S.default;const r=new m;r.addFileToVFS("NotoSansBengali.ttf",x),r.addFont("NotoSansBengali.ttf","NotoSansBengali","normal"),r.setFont("NotoSansBengali"),r.addFileToVFS("NotoSansDevanagari.ttf",w),r.addFont("NotoSansDevanagari.ttf","NotoSansDevanagari","normal"),r.setFont("NotoSansDevanagari");const C=[[o("#"),o(g),o("Visit"),o("Sales")]],k={0:{halign:"center"},1:{halign:"center"},2:{halign:"center"},3:{halign:"center"}},j={fontSize:12,fontStyle:"bold",halign:"center"},y={summaryHeader:"#3CB043",secondHeader:"#75AAF0"},D=ee,h=35,B=20;r.addImage(D,"PNG",15,12,h,B);const G=[[`${o("Top Customers Summary Data")} (${L})`]];r.autoTable({head:G,body:[],headStyles:{...j,fillColor:y.summaryHeader,textColor:"#FFFFFF"},margin:{top:30},styles:{font:s==="hi"?"NotoSansDevanagari":"NotoSansBengali",fontStyle:"bold"}});const b=[[`${o("Period")}: ${a} ${o("to")} ${n}`]];r.autoTable({startY:39.5,head:b,body:[],headStyles:{fontSize:12,fontStyle:"bold",halign:"center",fillColor:"#3CB043",textColor:"#FFFFFF"},margin:{top:30},styles:{font:s==="hi"?"NotoSansDevanagari":"NotoSansBengali",fontStyle:"bold"}});let _=p.map((N,P)=>[P+1,N.filterName,`${N.count}`,`₹ ${parseFloat(N.total).toFixed(2)}`]);const F=p.reduce((N,P)=>N+P.total,0),K=p.reduce((N,P)=>N+P.count,0);_.push(["",o("Total"),K,`₹ ${F.toFixed(2)}`]);const ce={startY:r.autoTable.previous.finalY+1,head:C,body:_,headStyles:{...j,fillColor:y.secondHeader,textColor:"#FFFFFF"},columnStyles:k,styles:{font:s==="hi"?"NotoSansDevanagari":"NotoSansBengali",fontStyle:"bold"}};r.autoTable(ce);const X=`${Date.now()}Top_Customerss_Summary_by${g}_${L}_${a}_${n}.pdf`,O=r.output("blob"),H=new FormData;H.append("file",O,X);try{const N=await I.post("http://115.124.120.251:5064/api/uploader",H,{headers:{"Content-Type":"multipart/form-data"}});N.status==200?$.update(e,{render:"Download Starting...",type:"success",isLoading:!1,autoClose:5e3,closeOnClick:!0,pauseOnFocusLoss:!1}):$.update(e,{render:"Download Failed !",type:"error",isLoading:!1,autoClose:5e3,closeOnClick:!0,pauseOnFocusLoss:!1});const P=await N.data.url;window.location.href=`http://115.124.120.251:5064/static/downloads/${P}`}catch(N){console.error("Error saving PDF file:",N)}})},Ee=async()=>{const e=$.loading("Please wait..."),a=T(v[0]),n=T(v[1]),s=new URLSearchParams(window.location.search).get("lang"),l=await I.get(we,{responseType:"arraybuffer"}),x=Q(l.data),c=await I.get(Se,{responseType:"arraybuffer"}),w=Q(c.data);Z(()=>import("./NotoSansDevanagari-VariableFont_wdth_wght-67bc695a.js").then(S=>S.j),["assets/NotoSansDevanagari-VariableFont_wdth_wght-67bc695a.js","assets/vendor-d2d59fe7.js","assets/index-4d89e49a.js","assets/index-0090fde3.css","assets/NotoSansDevanagari-VariableFont_wdth_wght-55fec1ff.css"]).then(async S=>{let m=S.default;const r=new m;r.addFileToVFS("NotoSansBengali.ttf",x),r.addFont("NotoSansBengali.ttf","NotoSansBengali","normal"),r.setFont("NotoSansBengali"),r.addFileToVFS("NotoSansDevanagari.ttf",w),r.addFont("NotoSansDevanagari.ttf","NotoSansDevanagari","normal"),r.setFont("NotoSansDevanagari");const C=[[o("#"),o("Date"),o("Sales")]],k={0:{halign:"center"},1:{halign:"center"},2:{halign:"center"},3:{halign:"center"}},j={fontSize:12,fontStyle:"bold",halign:"center"},y={summaryHeader:"#3CB043",secondHeader:"#75AAF0"},D=ee,h=35,B=20;r.addImage(D,"PNG",15,12,h,B);const G=[[`${M} Sales (${L})`]];r.autoTable({head:G,body:[],headStyles:{...j,fillColor:y.summaryHeader,textColor:"#FFFFFF"},margin:{top:30},styles:{font:s==="hi"?"NotoSansDevanagari":"NotoSansBengali",fontStyle:"bold"}});const b=[[`${o("Period")}: ${a} ${o("to")} ${n}`]];r.autoTable({startY:39.5,head:b,body:[],headStyles:{fontSize:12,fontStyle:"bold",halign:"center",fillColor:"#3CB043",textColor:"#FFFFFF"},margin:{top:30},styles:{font:s==="hi"?"NotoSansDevanagari":"NotoSansBengali",fontStyle:"bold"}});let _=U.map((O,H)=>[H+1,O.requestedDate,`₹ ${parseFloat(O.totalIncome).toFixed(2)}`]);const F={startY:r.autoTable.previous.finalY+1,head:C,body:_,headStyles:{...j,fillColor:y.secondHeader,textColor:"#FFFFFF"},columnStyles:k,styles:{font:s==="hi"?"NotoSansDevanagari":"NotoSansBengali",fontStyle:"bold"}};r.autoTable(F);const ce=`${Date.now()}Sales_of_${M}_${L}_${a}_${n}.pdf`,ge=r.output("blob"),X=new FormData;X.append("file",ge,ce);try{const O=await I.post("http://115.124.120.251:5064/api/uploader",X,{headers:{"Content-Type":"multipart/form-data"}});O.status==200?$.update(e,{render:"Download Starting...",type:"success",isLoading:!1,autoClose:5e3,closeOnClick:!0,pauseOnFocusLoss:!1}):$.update(e,{render:"Download Failed !",type:"error",isLoading:!1,autoClose:5e3,closeOnClick:!0,pauseOnFocusLoss:!1});const H=await O.data.url;window.location.href=`http://115.124.120.251:5064/static/downloads/${H}`}catch(O){console.error("Error saving PDF file:",O)}})};u.useEffect(()=>{const e=a=>{ae.current&&!ae.current.contains(a.target)&&ne.current&&!ne.current.contains(a.target)&&a.target.tagName!=="svg"&&a.target.tagName!=="path"&&J(!1),fe.current&&!fe.current.contains(a.target)&&ue(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[]);const Ve=()=>{ue(!1),J(!oe)};u.useEffect(()=>{Re(re)},[g,re,A,W,R]);const Ae=e=>{Fe(e.target.value)},We=e=>{if(e&&e.data&&e.dataIndex>=0&&p[e.dataIndex]){pe(!0);let a=JSON.stringify({CustomerName:g==="Name"?p[e.dataIndex].filterName:null,MobileNo:g==="Mobile"?p[e.dataIndex].filterName:null,VehicleNo:g==="Vehicle"?p[e.dataIndex].filterName:null}),n={"Content-Type":"application/json"},i={url:`http://115.124.120.251:5064/api/v1/dashboard/sales_customer/${me(v[0])}/${me(v[1])}/${Ce}/${_e}`,method:"POST",headers:n,data:a};I.request(i).then(s=>{let l={};Array.from(new Set(s.data.flatMap(c=>c.lstproduct.map(w=>w.productId)))).map(c=>{l[c]={productName:"",color:"",daySales:{}},s.data.map(w=>{l[c].daySales[w.requestedDate]=""})}),Be([...s.data.filter(c=>c.totalIncome>0),{requestedDate:o("Total"),totalIncome:s.data.reduce((c,w)=>c+w.totalIncome,0)}]),ie(!0),s.data.map(c=>{const w=c.requestedDate,S=c.lstproduct;S.length>0&&S.map(m=>{console.log(m.productName);const r=m.color,C=m.productId,k=m.productName,j=m.total;l[C].productName=k,l[C].color=r,l[C].daySales[w]=j})}),console.log(l),je(l)}).finally(()=>{pe(!1)}),ke(p[e.dataIndex].filterName)}},Re=e=>{if(e===10)g==="Name"?(E(A),V([...A,{filterName:o("Total"),total:A.reduce((a,n)=>a+n.total,0),count:A.reduce((a,n)=>a+n.count,0)}])):g==="Mobile"?(E(W),V([...W,{filterName:o("Total"),total:W.reduce((a,n)=>a+n.total,0),count:W.reduce((a,n)=>a+n.count,0)}])):g==="Vehicle"&&(E(R),V([...R,{filterName:o("Total"),total:R.reduce((a,n)=>a+n.total,0),count:R.reduce((a,n)=>a+n.count,0)}]));else if(g==="Name"){let n=A.slice().reverse().slice(0,5).map(i=>i);E(n.slice().reverse()),V([...n.slice().reverse(),{filterName:o("Total"),total:n.slice().reverse().reduce((i,s)=>i+s.total,0),count:n.slice().reverse().reduce((i,s)=>i+s.count,0)}])}else if(g==="Mobile"){let n=W.slice().reverse().slice(0,5).map(i=>i);E(n.slice().reverse()),V([...n.slice().reverse(),{filterName:o("Total"),total:n.slice().reverse().reduce((i,s)=>i+s.total,0),count:n.slice().reverse().reduce((i,s)=>i+s.count,0)}])}else if(g==="Vehicle"){let n=R.slice().reverse().slice(0,5).map(i=>i);E(n.slice().reverse()),V([...n.slice().reverse(),{filterName:o("Total"),total:n.slice().reverse().reduce((i,s)=>i+s.total,0),count:n.slice().reverse().reduce((i,s)=>i+s.count,0)}])}},He=Ue({typography:{button:{textTransform:"none"}}}),qe=()=>{ie(!1),se(!1)};return t.jsx(t.Fragment,{children:t.jsxs("div",{className:`${d.chartContainer} ${f==="dark"?d.darkMode:d.lightMode}`,children:[t.jsx(at,{position:"top-center",theme:f}),t.jsx("div",{className:"container-fluid",children:t.jsxs("div",{className:"d-flex w-100 g-0 align-items-center justify-content-between",children:[t.jsxs("div",{className:"d-flex align-items-center",children:[z?t.jsx("div",{title:"Previous",className:d.resetButtonContainer,children:t.jsx("button",{title:"Previous",className:`btn btn-primary mx-1 ${window.innerWidth<500?"btn-sm":""} shadow border-2 border-white`,onClick:qe,children:t.jsx(Ge,{style:{fontSize:"1rem"}})})}):null,t.jsx("div",{className:`fw-bold me-2 fs-${window.innerWidth<=768?7:5} ${f==="dark"?d.darkMode:d.lightMode}`,children:o("")}),z?t.jsx("div",{className:`fw-bold ms-2 fs-${window.innerWidth<=768?7:5} ${f==="dark"?d.darkMode:d.lightMode}`,children:M}):t.jsxs(Ye,{theme:He,children:[t.jsxs(xe,{sx:{mx:1,mt:1,minWidth:120},size:"small",children:[t.jsx(Je,{id:"demo-simple-select-helper-label",style:{color:"var(--text-color)",fontFamily:'"Public Sans", sans-serif !important'},children:o("Top Customers")}),t.jsxs(ye,{labelId:"demo-simple-select-standard-label",id:"demo-simple-select-standard",displayEmpty:!0,value:g,onChange:Ae,style:{color:"var(--text-color)",fontFamily:'"Public Sans", sans-serif !important'},label:o("Top Customers"),children:[t.jsx(Y,{style:{color:"var(--text-color)",fontFamily:'"Public Sans", sans-serif !important'},value:"Name",children:o("Name")}),t.jsx(Y,{style:{color:"var(--text-color)",fontFamily:'"Public Sans", sans-serif !important'},value:"Mobile",children:o("Mobile")}),t.jsx(Y,{style:{color:"var(--text-color)",fontFamily:'"Public Sans", sans-serif !important'},value:"Vehicle",children:o("Vehicle")})]})]}),t.jsx(xe,{sx:{mx:1,mt:1,minWidth:100},size:"small",children:t.jsxs(ye,{labelId:"demo-simple-select-standard-label",id:"demo-simple-select-standard",displayEmpty:!0,value:re,style:{color:"var(--text-color)",fontFamily:'"Public Sans", sans-serif !important'},onChange:e=>{$e(e.target.value)},children:[t.jsxs(Y,{style:{color:"var(--text-color)",fontFamily:'"Public Sans", sans-serif !important'},value:5,children:[o("Top")," 5"]}),t.jsxs(Y,{style:{color:"var(--text-color)",fontFamily:'"Public Sans", sans-serif !important'},value:10,children:[o("Top")," 10"]})]})})]})]}),t.jsx("div",{title:"Export Options",className:"d-flex g-0",ref:ae,children:t.jsxs("div",{className:`${d.iconsContainer} d-flex justify-content-center align-items-center`,children:[t.jsx("div",{className:`${d.icon} ${f==="dark"?d.darkMode:d.lightMode} px-2 py-1`,onClick:Ve,children:oe?t.jsx(Qe,{style:{fontSize:"1.1rem"}}):t.jsx(Ke,{style:{fontSize:"1.1rem"}})}),oe&&t.jsxs("div",{className:`${d.exportOptions} ${f==="dark"?d.darkMode:d.lightMode}`,ref:ne,children:[q?t.jsxs("div",{className:d.exportOption,onClick:()=>{se(!q),J(!1)},children:[t.jsx(Ze,{style:{fontSize:"1.1rem",color:"#6c3fb5"}}),t.jsx("span",{children:o("View Graph")})]}):t.jsxs("div",{className:d.exportOption,onClick:()=>{se(!q),J(!1)},children:[t.jsx(Xe,{style:{fontSize:"1.1rem",color:"#0d6efd"}}),t.jsx("span",{children:o("View Table")})]}),t.jsxs("div",{className:d.exportOption,onClick:z?ze:Le,children:[t.jsx(et,{style:{fontSize:"1.1rem",color:"green"}}),t.jsx("span",{children:o("Export to Excel")})]}),t.jsxs("div",{className:d.exportOption,onClick:z?Ee:Pe,children:[t.jsx(tt,{style:{fontSize:"1.1rem",color:"red"}}),t.jsx("span",{children:o("Export to PDF")})]})]})]})})]})}),de&&t.jsx("div",{className:d.loadingOverlay,children:t.jsx("img",{src:be,alt:"Loading...",width:50,height:50})}),Te&&t.jsx("div",{className:d.loadingOverlay,children:t.jsx("img",{src:be,alt:"Loading...",width:50,height:50})}),le.length==1&&!q&&!de?t.jsx("div",{className:`${d.NoDataOverlay} fs-5`,children:o("No Data Found")}):"",q?t.jsx("div",{className:"container-fluid mt-2 table-responsive",style:{height:"334px"},children:t.jsxs("table",{className:`table  ${f=="dark"?"table-dark":""}`,children:[t.jsx("thead",{children:z?t.jsxs("tr",{children:[t.jsx("th",{scope:"col",children:"#"}),t.jsx("th",{scope:"col",children:o("Date")}),t.jsxs("th",{scope:"col",children:[o("Sales"),"(₹)"]})]}):t.jsxs("tr",{children:[t.jsx("th",{scope:"col",children:"#"}),t.jsx("th",{scope:"col",children:o(g)}),t.jsx("th",{scope:"col",children:o("Visit")}),t.jsxs("th",{scope:"col",children:[o("Sales"),"(₹)"]})]})}),t.jsx("tbody",{children:z?U.map((e,a)=>t.jsxs("tr",{children:[t.jsx("th",{scope:"row",children:U.length-1===a?"":a+1}),t.jsx("td",{children:e.requestedDate}),t.jsx("td",{children:parseFloat(e.totalIncome).toFixed(2)})]},e.requestedDate)):le.map((e,a)=>t.jsxs("tr",{children:[t.jsx("th",{scope:"row",children:le.length-1===a?"":a+1}),t.jsx("td",{children:e.filterName}),t.jsx("td",{children:e.count}),t.jsx("td",{children:parseFloat(e.total).toFixed(2)})]},e.filterName))})]})}):t.jsx(ot,{option:z?Ie:Oe,style:{height:z?"350px":"342px",width:"100%",maxWidth:"2300px"},onEvents:{click:We},className:d.piechart},p.length)]})})};export{It as default};
