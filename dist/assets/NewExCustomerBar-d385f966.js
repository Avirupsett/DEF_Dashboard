import{_ as Ce}from"./index-5f6f3193.js";import{r as w,u as Pe,K as Le,j as t,T as Me,O as ge,P as he,Q as fe,R as M,i as Re,A as ze,B as Ae,C as Ve,E as We,G as He,a as H}from"./vendor-fe8b2466.js";import{L as G,R as Ge}from"./index-e2efe08c.js";import{k as Ue,l as Ye,Q as q,a as xe,f as Qe,b as Je}from"./NotoSansDevanagari-VariableFont_wdth_wght-2af61519.js";const Ke="_piechart_1hrwn_11",Xe="_chartContainer_1hrwn_23",Ze="_legendButtonContainer_1hrwn_49",et="_legendButton_1hrwn_49",tt="_codeBlockIcon_1hrwn_133",st="_lightMode_1hrwn_191",ot="_dateFilter_1hrwn_195",nt="_officefilter_1hrwn_351",at="_topContainer_1hrwn_443",rt="_darkMode_1hrwn_463",lt="_iconsContainer_1hrwn_631",it="_icon_1hrwn_631",ut="_exportOptions_1hrwn_715",ct="_exportOption_1hrwn_715",dt="_NoDataOverlay_1hrwn_861",mt="_tableContainer_1hrwn_993",Ct="_table_1hrwn_993",gt="_summaryHeader_1hrwn_1029",ht="_periodHeader_1hrwn_1037",ft="_closeButton_1hrwn_1069",xt="_tableWrapper_1hrwn_1099",wt="_loadingOverlay_1hrwn_1107",pt="_loadingSpinner_1hrwn_1133",St="_boldOption_1hrwn_1145",bt="_optionGroup_1hrwn_1155",y={piechart:Ke,chartContainer:Xe,"legend-text":"_legend-text_1hrwn_31",legendButtonContainer:Ze,legendButton:et,codeBlockIcon:tt,lightMode:st,"label-text":"_label-text_1hrwn_191",dateFilter:ot,officefilter:nt,topContainer:at,darkMode:rt,"theme-container":"_theme-container_1hrwn_473",iconsContainer:lt,icon:it,exportOptions:ut,exportOption:ct,NoDataOverlay:dt,tableContainer:mt,table:Ct,summaryHeader:gt,periodHeader:ht,closeButton:ft,tableWrapper:xt,loadingOverlay:wt,loadingSpinner:pt,boldOption:St,optionGroup:bt},Ot=({themeMode:_,selectedRange:R,selectedOffice:yt,isAdmin:Nt,alldata:Dt,showGraph:ae,officeName:z,isLoading:re,newExData:le})=>{const[we,_t]=w.useState([]),[U,A]=w.useState(!1),Y=w.useRef(null),Q=w.useRef(null),J=w.useRef(null),{t:n}=Pe(),[Et,ie]=w.useState(!1),[N,K]=w.useState([]),[pe,Ft]=w.useState(!0),[V,X]=w.useState(!1),[j,Se]=w.useState("Name"),[Z,be]=w.useState("Count"),[p,ye]=w.useState([]),[S,Ne]=w.useState([]),[b,De]=w.useState([]);w.useState(5),w.useState([]);const[ue,jt]=w.useState("Customers");w.useState([]),w.useEffect(()=>{(async()=>{try{const r=le;if(r.graph2){const l=r.graph2.byName,C=r.graph2.byMobile,u=r.graph2.byVehicle,s=l.existingCustomer.map(o=>({requestedDate:o.requestedDate,count:o.count,sales:o.sales})),i=l.newCustomer.map(o=>({requestedDate:o.requestedDate,count:o.count,sales:o.sales})),d=C.existingCustomer.map(o=>({requestedDate:o.requestedDate,count:o.count,sales:o.sales})),g=C.newCustomer.map(o=>({requestedDate:o.requestedDate,count:o.count,sales:o.sales})),k=u.existingCustomer.map(o=>({requestedDate:o.requestedDate,count:o.count,sales:o.sales})),F=u.newCustomer.map(o=>({requestedDate:o.requestedDate,count:o.count,sales:o.sales}));ye({existingCustomer:s,newCustomer:i}),Ne({existingCustomer:d,newCustomer:g}),De({existingCustomer:k,newCustomer:F});let h=[];switch(j){case"Name":h=s.map((o,f)=>({"#":f+1,Date:o.requestedDate,"New Customer Count":i[f].count,"Existing Customer Count":o.count,"New Customer Sales":i[f].sales,"Existing Customer Sales":o.sales}));break;case"Mobile":h=d.map((o,f)=>({"#":f+1,Date:o.requestedDate,"New Customer Count":g[f].count,"Existing Customer Count":o.count,"New Customer Sales":g[f].sales,"Existing Customer Sales":o.sales}));break;case"Vehicle":h=k.map((o,f)=>({"#":f+1,Date:o.requestedDate,"New Customer Count":F[f].count,"Existing Customer Count":o.count,"New Customer Sales":F[f].sales,"Existing Customer Sales":o.sales}));break;default:return}const P=h.reduce((o,f)=>o+f["New Customer Count"],0),L=h.reduce((o,f)=>o+f["Existing Customer Count"],0),D=h.reduce((o,f)=>o+f["New Customer Sales"],0),T=h.reduce((o,f)=>o+f["Existing Customer Sales"],0);h.push({"#":"",Date:"Total","New Customer Count":P,"Existing Customer Count":L,"New Customer Sales":`₹ ${D.toFixed(2)}`,"Existing Customer Sales":`₹ ${T.toFixed(2)}`}),K(h)}}catch(r){console.error("Error fetching data:",r)}})()},[le]),w.useEffect(()=>{X(!ae)},[ae]);const B=()=>{const e=(p==null?void 0:p.existingCustomer)||[],r=(p==null?void 0:p.newCustomer)||[],l=(S==null?void 0:S.existingCustomer)||[],C=(S==null?void 0:S.newCustomer)||[],u=(b==null?void 0:b.existingCustomer)||[],s=(b==null?void 0:b.newCustomer)||[];switch(j){case"Name":return{existingCustomer:e,newCustomer:r};case"Mobile":return{existingCustomer:l,newCustomer:C};case"Vehicle":return{existingCustomer:u,newCustomer:s};default:return{}}};function v(e,r){var l=parseInt(e.substring(1,3),16),C=parseInt(e.substring(3,5),16),u=parseInt(e.substring(5,7),16);l=parseInt(l*(100+r)/100),C=parseInt(C*(100+r)/100),u=parseInt(u*(100+r)/100),l=l<255?l:255,C=C<255?C:255,u=u<255?u:255,l=Math.round(l),C=Math.round(C),u=Math.round(u);var s=l.toString(16).length==1?"0"+l.toString(16):l.toString(16),i=C.toString(16).length==1?"0"+C.toString(16):C.toString(16),d=u.toString(16).length==1?"0"+u.toString(16):u.toString(16);return"#"+s+i+d}function ce(){const e=B().existingCustomer;if(!e||e.length===0)return 0;const r=new Date(e[0].requestedDate),l=new Date(e[e.length-1].requestedDate),C=Math.abs(l-r);return Math.floor(C/(1e3*3600*24))}const _e={xAxis:{type:"time",axisLabel:{hideOverlap:!0,formatter:"{d} {MMM}",interval:0,rotate:window.innerWidth<768?45:0,color:_==="dark"?"#ffffff":"#000000"},axisPointer:{label:{formatter:function(e){let r=new Date(e.value);return I(r)}}},data:B().existingCustomer.map(e=>e.requestedDate)},yAxis:Z=="Count"?[{type:"value",name:"",axisLabel:{color:_==="dark"?"#ffffff":"#000000"},axisLine:{lineStyle:{color:_==="dark"?"#ffffff":"#000000"}}}]:[{type:"value",name:"",axisLabel:{color:_==="dark"?"#ffffff":"#000000",formatter:e=>e>=1e3?e/1e3+"k":e},axisLine:{lineStyle:{color:_==="dark"?"#ffffff":"#000000"}}}],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:window.innerWidth<=768?"10%":"4%",right:"5%",top:"10%",bottom:"12%",containLabel:!0},series:Z=="Count"?[{name:"Existing Customer Count",type:ce()>30?"line":"bar",areaStyle:{color:new G(0,1,0,0,[{offset:1,color:v("#8080ff",10)},{offset:0,color:v("#8080ff",-10)}])},symbol:"none",smooth:!0,step:!0,stack:"total",barWidth:"40%",emphasis:{focus:"series"},data:B().existingCustomer.map(e=>[e.requestedDate,e.count]),yAxisIndex:0,itemStyle:{borderRadius:[5,5,5,5],color:new G(0,1,0,0,[{offset:1,color:v("#8080ff",10)},{offset:0,color:v("#8080ff",-10)}])}},{name:"New Customer Count",step:!0,type:ce()>30?"line":"bar",areaStyle:{color:new G(0,1,0,0,[{offset:1,color:v("#3cb043",10)},{offset:0,color:v("#3cb043",-10)}])},symbol:"none",smooth:!0,stack:"total",barWidth:"40%",emphasis:{focus:"series"},data:B().newCustomer.map(e=>[e.requestedDate,e.count]),yAxisIndex:0,itemStyle:{borderRadius:[5,5,5,5],color:new G(0,1,0,0,[{offset:1,color:v("#3cb043",10)},{offset:0,color:v("#3cb043",-10)}])}}]:[{name:"Existing Customer Sales",type:"line",symbol:"none",stack:"total2",data:B().existingCustomer.map(e=>[e.requestedDate,e.sales]),yAxisIndex:0,itemStyle:{color:"blue"}},{name:"New Customer Sales",type:"line",symbol:"none",stack:"total2",data:B().newCustomer.map(e=>[e.requestedDate,e.sales]),yAxisIndex:0,itemStyle:{color:"green"}}],legend:{bottom:"0",textStyle:{color:_==="dark"?"#ffffff":"#000000",fontSize:window.innerWidth<=1496?12:14,padding:4},formatter:function(e){return window.innerWidth<768?e.split(" ").slice(0,2).join(" "):e}}},de=e=>{let r="";const l=new Uint8Array(e),C=l.byteLength;for(let u=0;u<C;u++)r+=String.fromCharCode(l[u]);return window.btoa(r)},I=e=>{if(!e)return"";const r=e.getFullYear(),l=String(e.getMonth()+1).padStart(2,"0");return`${String(e.getDate()).padStart(2,"0")}-${l}-${r}`},Ee=async()=>{const e=q.loading("Please wait..."),r=I(R[0]),l=I(R[1]),C=await Ce(()=>import("./exceljs.min-9dc286db.js").then(i=>i.e),["assets/exceljs.min-9dc286db.js","assets/vendor-fe8b2466.js"]),u=new C.Workbook,s=u.addWorksheet("Data");fetch(xe).then(i=>i.blob()).then(async i=>{const d=new FileReader;d.onload=async function(){const g=d.result,k=u.addImage({base64:g,extension:"png"});s.addImage(k,{tl:{col:0,row:0},ext:{width:100,height:60}});const F=s.getCell("A1");F.value=`${n("Customers Summary Data")} (${z})`,F.font={bold:!0,color:{argb:"000000"},size:14},F.alignment={vertical:"middle",horizontal:"center"},s.mergeCells("A1:F1");const h=s.getCell("A2");h.value=`${n("Period")}: ${r} ${n("to")} ${l}`,h.font={bold:!0,color:{argb:"000000"},size:12},h.alignment={horizontal:"center"},s.mergeCells("A2:F2"),s.getColumn(1).width=10,s.getColumn(2).width=15,s.getColumn(3).width=15,s.getColumn(4).width=15,s.getColumn(5).width=15,s.getColumn(6).width=15;const P=s.addRow(["","",n("Existing Customers"),"",n("New Customers"),""]),L=s.addRow(["#",n("Date"),n("Count"),n("Sales"),n("Count"),n("Sales")]);s.mergeCells("C3:D3"),s.mergeCells("E3:F3"),[P,L].forEach(a=>{a.eachCell(m=>{m.font={bold:!0,color:{argb:"000000"},size:12},m.alignment={horizontal:"center",vertical:"middle"}})});let D=[];switch(j){case"Name":D=p.existingCustomer.map((a,m)=>({"#":m+1,Date:a.requestedDate,"New Customer Count":p.newCustomer[m].count,"Existing Customer Count":a.count,"New Customer Sales":p.newCustomer[m].sales,"Existing Customer Sales":a.sales}));break;case"Mobile":D=S.existingCustomer.map((a,m)=>({"#":m+1,Date:a.requestedDate,"New Customer Count":S.newCustomer[m].count,"Existing Customer Count":a.count,"New Customer Sales":S.newCustomer[m].sales,"Existing Customer Sales":a.sales}));break;case"Vehicle":D=b.existingCustomer.map((a,m)=>({"#":m+1,Date:a.requestedDate,"New Customer Count":b.newCustomer[m].count,"Existing Customer Count":a.count,"New Customer Sales":b.newCustomer[m].sales,"Existing Customer Sales":a.sales}));break;default:return}D.forEach((a,m)=>{s.addRow([a["#"],a.Date,a["Existing Customer Count"],a["Existing Customer Sales"],a["New Customer Count"],a["New Customer Sales"]]).eachCell((O,W)=>{W===1||W===2?O.alignment={horizontal:"left"}:O.alignment={horizontal:"right"}})});const T=D.reduce((a,m)=>a+m["New Customer Count"],0),o=D.reduce((a,m)=>a+m["Existing Customer Count"],0),f=D.reduce((a,m)=>a+m["New Customer Sales"],0),ee=D.reduce((a,m)=>a+m["Existing Customer Sales"],0),te=`₹ ${f.toFixed(2)}`,se=`₹ ${ee.toFixed(2)}`,E=s.addRow(["",n("Total"),T,o,te,se]);E.font={bold:!0,color:{argb:"000000"},size:12},E.eachCell(a=>{a.column===2?(a.value=n("Total"),a.alignment={horizontal:"left"}):a.column===3||a.column===4?(a.value="",a.alignment={horizontal:"right"}):a.alignment={horizontal:"right"}});const ne=`${Date.now()}Customers_Summary_by${j}${z}${r}_${l}.xlsx`;u.xlsx.writeBuffer().then(async a=>{const m=new FormData;m.append("file",new Blob([a]),ne);try{const $=await H.post("http://115.124.120.251:5064/api/uploader",m,{headers:{"Content-Type":"multipart/form-data"}});$.status==200?q.update(e,{render:"Download Starting...",type:"success",isLoading:!1,autoClose:5e3,closeOnClick:!0,pauseOnFocusLoss:!1}):q.update(e,{render:"Download Failed !",type:"error",isLoading:!1,autoClose:5e3,closeOnClick:!0,pauseOnFocusLoss:!1});const O=$.data.url;window.location.href=`http://115.124.120.251:5064/static/downloads/${O}`}catch($){console.error("Error saving Excel file:",$)}})},d.readAsDataURL(i)})},Fe=async()=>{const e=q.loading("Please wait..."),r=I(R[0]),l=I(R[1]),u=new URLSearchParams(window.location.search).get("lang"),s=await H.get(Qe,{responseType:"arraybuffer"}),i=de(s.data),d=await H.get(Je,{responseType:"arraybuffer"}),g=de(d.data);Ce(()=>import("./NotoSansDevanagari-VariableFont_wdth_wght-2af61519.js").then(k=>k.j),["assets/NotoSansDevanagari-VariableFont_wdth_wght-2af61519.js","assets/vendor-fe8b2466.js","assets/index-5f6f3193.js","assets/index-0653e607.css","assets/NotoSansDevanagari-VariableFont_wdth_wght-55fec1ff.css"]).then(async k=>{let F=k.default;const h=new F;h.addFileToVFS("NotoSansBengali.ttf",i),h.addFont("NotoSansBengali.ttf","NotoSansBengali","normal"),h.setFont("NotoSansBengali"),h.addFileToVFS("NotoSansDevanagari.ttf",g),h.addFont("NotoSansDevanagari.ttf","NotoSansDevanagari","normal"),h.setFont("NotoSansDevanagari");const P=[["","",{content:n("Existing Customers"),colSpan:2,styles:{halign:"center"}},{content:n("New Customers"),colSpan:2,styles:{halign:"center"}}],["#",n("Date"),n("Count"),n("Sales"),n("Count"),n("Sales")]],L={0:{halign:"center"},1:{halign:"center"},2:{halign:"center"},3:{halign:"center"},4:{halign:"center"},5:{halign:"center"}},D={fontSize:12,fontStyle:"bold",halign:"center"},T={summaryHeader:"#3CB043",secondHeader:"#75AAF0"},o=xe,f=35,ee=20;h.addImage(o,"PNG",15,12,f,ee);const te=[[`${n("Customers Summary Data")} (${z})`]];h.autoTable({head:te,body:[],headStyles:{...D,fillColor:T.summaryHeader,textColor:"#FFFFFF"},margin:{top:30},styles:{font:u==="hi"?"NotoSansDevanagari":"NotoSansBengali",fontStyle:"bold"}});const se=[[`${n("Period")}: ${r} ${n("to")} ${l}`]];h.autoTable({startY:39.5,head:se,body:[],headStyles:{fontSize:12,fontStyle:"bold",halign:"center",fillColor:"#3CB043",textColor:"#FFFFFF"},margin:{top:30},styles:{font:u==="hi"?"NotoSansDevanagari":"NotoSansBengali",fontStyle:"bold"}});let E=[];switch(j){case"Name":E=p.existingCustomer.map((c,x)=>({"#":x+1,Date:c.requestedDate,"New Customer Count":p.newCustomer[x].count,"Existing Customer Count":c.count,"New Customer Sales":p.newCustomer[x].sales,"Existing Customer Sales":c.sales}));break;case"Mobile":E=S.existingCustomer.map((c,x)=>({"#":x+1,Date:c.requestedDate,"New Customer Count":S.newCustomer[x].count,"Existing Customer Count":c.count,"New Customer Sales":S.newCustomer[x].sales,"Existing Customer Sales":c.sales}));break;case"Vehicle":E=b.existingCustomer.map((c,x)=>({"#":x+1,Date:c.requestedDate,"New Customer Count":b.newCustomer[x].count,"Existing Customer Count":c.count,"New Customer Sales":b.newCustomer[x].sales,"Existing Customer Sales":c.sales}));break;default:return}let oe=E.map((c,x)=>[c["#"],c.Date,c["Existing Customer Count"],c["Existing Customer Sales"],c["New Customer Count"],c["New Customer Sales"]]);const ne=E.reduce((c,x)=>c+x["New Customer Count"],0),a=E.reduce((c,x)=>c+x["Existing Customer Count"],0),m=E.reduce((c,x)=>c+x["New Customer Sales"],0),$=E.reduce((c,x)=>c+x["Existing Customer Sales"],0),O=`₹ ${m.toFixed(2)}`,W=`₹ ${$.toFixed(2)}`,Te=["",n("Total"),a,W,ne,O];oe.push(Te);const Oe={startY:h.autoTable.previous.finalY+1,head:P,body:oe,headStyles:{...D,fillColor:T.secondHeader,textColor:"#FFFFFF"},columnStyles:L,styles:{font:u==="hi"?"NotoSansDevanagari":"NotoSansBengali",fontStyle:"bold"}};h.autoTable(Oe);const qe=`${Date.now()}Top_Customerss_Summary_by${j}${z}${r}_${l}.pdf`,Ie=h.output("blob"),me=new FormData;me.append("file",Ie,qe);try{const c=await H.post("http://115.124.120.251:5064/api/uploader",me,{headers:{"Content-Type":"multipart/form-data"}});c.status==200?q.update(e,{render:"Download Starting...",type:"success",isLoading:!1,autoClose:5e3,closeOnClick:!0,pauseOnFocusLoss:!1}):q.update(e,{render:"Download Failed !",type:"error",isLoading:!1,autoClose:5e3,closeOnClick:!0,pauseOnFocusLoss:!1});const x=await c.data.url;window.location.href=`http://115.124.120.251:5064/static/downloads/${x}`}catch(c){console.error("Error saving PDF file:",c)}})};w.useEffect(()=>{const e=r=>{Y.current&&!Y.current.contains(r.target)&&Q.current&&!Q.current.contains(r.target)&&r.target.tagName!=="svg"&&r.target.tagName!=="path"&&A(!1),J.current&&!J.current.contains(r.target)&&ie(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[]);const je=e=>{const r=e.target.value;Se(r);let l=[];switch(r){case"Name":l=p.existingCustomer.map((d,g)=>({"#":g+1,Date:d.requestedDate,"New Customer Count":p.newCustomer[g].count,"Existing Customer Count":d.count,"New Customer Sales":p.newCustomer[g].sales,"Existing Customer Sales":d.sales}));break;case"Mobile":l=S.existingCustomer.map((d,g)=>({"#":g+1,Date:d.requestedDate,"New Customer Count":S.newCustomer[g].count,"Existing Customer Count":d.count,"New Customer Sales":S.newCustomer[g].sales,"Existing Customer Sales":d.sales}));break;case"Vehicle":l=b.existingCustomer.map((d,g)=>({"#":g+1,Date:d.requestedDate,"New Customer Count":b.newCustomer[g].count,"Existing Customer Count":d.count,"New Customer Sales":b.newCustomer[g].sales,"Existing Customer Sales":d.sales}));break;default:return}const C=l.reduce((d,g)=>d+g["New Customer Count"],0),u=l.reduce((d,g)=>d+g["Existing Customer Count"],0),s=l.reduce((d,g)=>d+g["New Customer Sales"],0),i=l.reduce((d,g)=>d+g["Existing Customer Sales"],0);l.push({"#":"",Date:"Total","New Customer Count":C,"Existing Customer Count":u,"New Customer Sales":`₹ ${s.toFixed(2)}`,"Existing Customer Sales":`₹ ${i.toFixed(2)}`}),K(l)},ve=Le({typography:{button:{textTransform:"none"}}}),ke=()=>{ie(!1),A(!U)},$e=()=>{A(!1),X(!V)},Be=()=>{let e=[];switch(j){case"Name":e=p.existingCustomer.map((s,i)=>({"#":i+1,Date:s.requestedDate,"New Customer Count":p.newCustomer[i].count,"Existing Customer Count":s.count,"New Customer Sales":p.newCustomer[i].sales,"Existing Customer Sales":s.sales}));break;case"Mobile":e=S.existingCustomer.map((s,i)=>({"#":i+1,Date:s.requestedDate,"New Customer Count":S.newCustomer[i].count,"Existing Customer Count":s.count,"New Customer Sales":S.newCustomer[i].sales,"Existing Customer Sales":s.sales}));break;case"Vehicle":e=b.existingCustomer.map((s,i)=>({"#":i+1,Date:s.requestedDate,"New Customer Count":b.newCustomer[i].count,"Existing Customer Count":s.count,"New Customer Sales":b.newCustomer[i].sales,"Existing Customer Sales":s.sales}));break;default:return}const r=e.reduce((s,i)=>s+i["New Customer Count"],0),l=e.reduce((s,i)=>s+i["Existing Customer Count"],0),C=e.reduce((s,i)=>s+i["New Customer Sales"],0),u=e.reduce((s,i)=>s+i["Existing Customer Sales"],0);e.push({"#":"",Date:"Total","New Customer Count":r,"Existing Customer Count":l,"New Customer Sales":`₹ ${C.toFixed(2)}`,"Existing Customer Sales":`₹ ${u.toFixed(2)}`}),K(e),X(!0),A(!1)};return t.jsx(t.Fragment,{children:t.jsxs("div",{ref:J,className:`${y.chartContainer} ${_==="dark"?y.darkMode:y.lightMode}`,children:[t.jsx(Ue,{position:"top-center",theme:_}),t.jsx("div",{className:"container-fluid",children:t.jsxs("div",{className:"d-flex w-100 g-0 align-items-center justify-content-between",children:[t.jsx("div",{className:"d-flex align-items-center",children:t.jsxs(Me,{theme:ve,children:[t.jsxs(ge,{sx:{mx:1,mt:1,minWidth:120},size:"small",children:[t.jsx(he,{id:"demo-simple-select-helper-label",style:{color:"var(--text-color)",fontFamily:'"Public Sans", sans-serif !important'},children:n(ue)}),t.jsxs(fe,{labelId:"demo-simple-select-standard-label",id:"demo-simple-select-standard",displayEmpty:!0,value:j,onChange:je,style:{color:"var(--text-color)",fontFamily:'"Public Sans", sans-serif !important'},label:n(ue),children:[t.jsx(M,{style:{color:"var(--text-color)",fontFamily:'"Public Sans", sans-serif !important'},value:"Name",children:n("Name")}),t.jsx(M,{style:{color:"var(--text-color)",fontFamily:'"Public Sans", sans-serif !important'},value:"Mobile",children:n("Mobile")}),t.jsx(M,{style:{color:"var(--text-color)",fontFamily:'"Public Sans", sans-serif !important'},value:"Vehicle",children:n("Vehicle")})]})]}),t.jsxs(ge,{sx:{mx:1,mt:1,minWidth:90},size:"small",children:[t.jsx(he,{id:"demo-simple-select-helper-label",style:{color:"var(--text-color)",fontFamily:'"Public Sans", sans-serif !important'},children:n("Filter")}),t.jsxs(fe,{labelId:"demo-simple-select-standard-label",id:"demo-simple-select-standard",displayEmpty:!0,value:Z,onChange:e=>be(e.target.value),style:{color:"var(--text-color)",fontFamily:'"Public Sans", sans-serif !important'},label:n("Filter"),children:[t.jsx(M,{style:{color:"var(--text-color)",fontFamily:'"Public Sans", sans-serif !important'},value:"Count",children:n("Count")}),t.jsx(M,{style:{color:"var(--text-color)",fontFamily:'"Public Sans", sans-serif !important'},value:"Sales",children:n("Sales")})]})]})]})}),t.jsx("div",{title:"Export Options",className:"d-flex g-0",ref:Y,children:t.jsxs("div",{className:`${y.iconsContainer} d-flex justify-content-center align-items-center`,children:[t.jsx("div",{className:`${y.icon} ${_==="dark"?y.darkMode:y.lightMode} px-2 py-1`,onClick:ke,children:U?t.jsx(Re,{style:{fontSize:"1.1rem"}}):t.jsx(ze,{style:{fontSize:"1.1rem"}})}),U&&t.jsxs("div",{className:`${y.exportOptions} ${_==="dark"?y.darkMode:y.lightMode}`,ref:Q,children:[V?t.jsxs("div",{className:y.exportOption,onClick:$e,children:[t.jsx(Ve,{style:{fontSize:"1.1rem",color:"#6c3fb5"}}),t.jsx("span",{children:n("View Graph")})]}):t.jsxs("div",{className:y.exportOption,onClick:Be,children:[t.jsx(Ae,{style:{fontSize:"1.1rem",color:"#0d6efd"}}),t.jsx("span",{children:n("View Table")})]}),t.jsxs("div",{className:y.exportOption,onClick:Ee,children:[t.jsx(We,{style:{fontSize:"1.1rem",color:"green"}}),t.jsx("span",{children:n("Export to Excel")})]}),t.jsxs("div",{className:y.exportOption,onClick:Fe,children:[t.jsx(He,{style:{fontSize:"1.1rem",color:"red"}}),t.jsx("span",{children:n("Export to PDF")})]})]})]})})]})}),re&&t.jsx("div",{className:y.loadingOverlay,children:t.jsx("img",{src:Ye,alt:"Loading...",width:50,height:50})}),N.length>0&&N[N.length-1]["Existing Customer Count"]==0&&N[N.length-1]["New Customer Count"]==0&&!V&&!re?t.jsx("div",{className:`${y.NoDataOverlay} fs-5`,children:n("No Data Found")}):null,V?t.jsx("div",{className:"container-fluid mt-2 table-responsive",style:{height:"290px"},children:t.jsxs("table",{className:`table ${_=="dark"?"table-dark":""}`,children:[t.jsxs("thead",{children:[t.jsxs("tr",{children:[t.jsx("th",{colSpan:"2"}),t.jsx("th",{colSpan:"2",children:n("Existing Customers")}),t.jsx("th",{colSpan:"2",children:n("New Customers")})]}),t.jsxs("tr",{children:[t.jsx("th",{scope:"col",children:"#"}),t.jsx("th",{scope:"col",children:n("Date")}),t.jsx("th",{scope:"col",children:n("Count")}),t.jsx("th",{scope:"col",children:n("Sales")}),t.jsx("th",{scope:"col",children:n("Count")}),t.jsx("th",{scope:"col",children:n("Sales")})]})]}),t.jsxs("tbody",{children:[N.map((e,r)=>t.jsxs("tr",{children:[t.jsx("th",{scope:"row",children:e["#"]}),t.jsx("td",{children:e.Date}),t.jsx("td",{children:e["Existing Customer Count"]}),t.jsx("td",{children:e["Existing Customer Sales"]}),t.jsx("td",{children:e["New Customer Count"]}),t.jsx("td",{children:e["New Customer Sales"]})]},r)),N.length>0&&N[N.length-1].Date==="Total"&&t.jsxs("tr",{children:[t.jsx("th",{scope:"row",children:[N.length-1]["#"]}),t.jsx("td",{children:[N.length-1].Date}),t.jsx("td",{children:[N.length-1]["Existing Customer Count"]}),t.jsx("td",{children:[N.length-1]["Existing Customer Sales"]}),t.jsx("td",{children:[N.length-1]["New Customer Count"]}),t.jsx("td",{children:[N.length-1]["New Customer Sales"]})]})]})]})}):t.jsx(Ge,{option:_e,notMerge:pe,style:{height:"297px",width:"100%",maxWidth:"2300px"},className:y.piechart},we.length)]})})};export{Ot as default};
